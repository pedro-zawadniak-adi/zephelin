import{s as sortBy,i as itForEach,C as CallTreeProfileBuilder,l as lastOf,T as TimeFormatter,g as getOrInsert,S as StackListProfileBuilder,R as RawValueFormatter,a as getOrThrow,b as getOrElse,B as ByteFormatter,z as zeroPad,c as itMap,d as commonjsGlobal,e as getDefaultExportFromCjs,m as metadataAtom,K as KeyedSet,F as Frame,f as decodeBase64,h as importSpeedscopeProfiles}from"./index-BVLLIhnz.js";function treeToArray(u){const r=[];function o(l){r.push({id:l.id,callFrame:{columnNumber:0,functionName:l.functionName,lineNumber:l.lineNumber,scriptId:l.scriptId,url:l.url},hitCount:l.hitCount,children:l.children.map(e=>e.id)}),l.children.forEach(o)}return o(u),r}function timestampsToDeltas(u,r){return u.map((o,l)=>{const e=l===0?r*1e6:u[l-1];return o-e})}function chromeTreeToNodes(u){return{samples:u.samples,startTime:u.startTime*1e6,endTime:u.endTime*1e6,nodes:treeToArray(u.head),timeDeltas:timestampsToDeltas(u.timestamps,u.startTime)}}function isChromeTimeline(u){if(!Array.isArray(u)||u.length<1)return!1;const r=u[0];return!(!("pid"in r&&"tid"in r&&"ph"in r&&"cat"in r)||!u.find(o=>o.name==="CpuProfile"||o.name==="Profile"||o.name==="ProfileChunk"))}function isChromeTimelineObject(u){return"traceEvents"in u?isChromeTimeline(u.traceEvents):!1}function importFromChromeTimeline(u,r){const o=new Map,l=new Map,e=new Map;sortBy(u,t=>t.ts);for(let t of u){if(t.name==="CpuProfile"){const i=`${t.pid}:${t.tid}`,n=t.id||i;o.set(n,t.args.data.cpuProfile),l.set(n,i)}if(t.name==="Profile"){const i=`${t.pid}:${t.tid}`;o.set(t.id||i,{startTime:0,endTime:0,nodes:[],samples:[],timeDeltas:[],...t.args.data}),t.id&&l.set(t.id,`${t.pid}:${t.tid}`)}if(t.name==="thread_name"&&e.set(`${t.pid}:${t.tid}`,t.args.name),t.name==="ProfileChunk"){const i=`${t.pid}:${t.tid}`,n=o.get(t.id||i);if(n){const f=t.args.data;f.cpuProfile&&(f.cpuProfile.nodes&&(n.nodes=n.nodes.concat(f.cpuProfile.nodes)),f.cpuProfile.samples&&(n.samples=n.samples.concat(f.cpuProfile.samples))),f.timeDeltas&&(n.timeDeltas=n.timeDeltas.concat(f.timeDeltas)),f.startTime!=null&&(n.startTime=f.startTime),f.endTime!=null&&(n.endTime=f.endTime)}}}if(o.size>0){const t=[];let i=0;return itForEach(o.keys(),n=>{let f=null,d=l.get(n);d&&(f=e.get(d)||null);const c=importFromChromeCPUProfile(o.get(n));f&&o.size>1?(c.setName(`${r} - ${f}`),f==="CrRendererMain"&&(i=t.length)):c.setName(`${r}`),t.push(c)}),{name:r,indexToView:i,profiles:t}}else throw new Error("Could not find CPU profile in Timeline")}const callFrameToFrameInfo$1=new Map;function frameInfoForCallFrame$1(u){return getOrInsert(callFrameToFrameInfo$1,u,r=>{const o=r.url;let l=r.lineNumber;l!=null&&l++;let e=r.columnNumber;e!=null&&e++;const t=r.functionName||(o?`(anonymous ${o.split("/").pop()}:${l})`:"(anonymous)");return{key:`${t}:${o}:${l}:${e}`,name:t,file:o,line:l,col:e}})}function shouldIgnoreFunction(u){const{functionName:r,url:o}=u;return o==="native dummy.js"?!0:r==="(root)"||r==="(idle)"}function shouldPlaceOnTopOfPreviousStack(u){return u==="(garbage collector)"||u==="(program)"}function importFromChromeCPUProfile(u){const r=new CallTreeProfileBuilder(u.endTime-u.startTime),o=new Map;for(let d of u.nodes)o.set(d.id,d);for(let d of u.nodes)if(typeof d.parent=="number"&&(d.parent=o.get(d.parent)),!!d.children)for(let c of d.children){const p=o.get(c);p&&(p.parent=d)}const l=[],e=[];let t=u.timeDeltas[0],i=t,n=NaN;for(let d=0;d<u.samples.length;d++){const c=u.samples[d];if(c!=n&&(l.push(c),t<i?e.push(i):(e.push(t),i=t)),d===u.samples.length-1)isNaN(n)||(l.push(n),t<i?e.push(i):(e.push(t),i=t));else{const p=u.timeDeltas[d+1];t+=p,n=c}}let f=[];for(let d=0;d<l.length;d++){const c=e[d],p=l[d];let y=o.get(p);if(!y)continue;let g=null;for(g=y;g&&f.indexOf(g)===-1;g=shouldPlaceOnTopOfPreviousStack(g.callFrame.functionName)?lastOf(f):g.parent||null);for(;f.length>0&&lastOf(f)!=g;){const S=f.pop(),k=frameInfoForCallFrame$1(S.callFrame);r.leaveFrame(k,c)}const _=[];for(let S=y;S&&S!=g&&!shouldIgnoreFunction(S.callFrame);S=shouldPlaceOnTopOfPreviousStack(S.callFrame.functionName)?lastOf(f):S.parent||null)_.push(S);_.reverse();for(let S of _)r.enterFrame(frameInfoForCallFrame$1(S.callFrame),c);f=f.concat(_)}for(let d=f.length-1;d>=0;d--)r.leaveFrame(frameInfoForCallFrame$1(f[d].callFrame),lastOf(e));return r.setValueFormatter(new TimeFormatter("microseconds")),r.build()}function importFromOldV8CPUProfile(u){return importFromChromeCPUProfile(chromeTreeToNodes(u))}function importFromStackprof(u){const{frames:r,mode:o,raw:l,raw_timestamp_deltas:e,interval:t}=u,i=new StackListProfileBuilder;i.setValueFormatter(new TimeFormatter("microseconds"));let n=0,f=[];for(let d=0;d<l.length;){const c=l[d++];let p=[];for(let g=0;g<c;g++){const _=l[d++];let S=r[_].name;S==null&&(S="(unknown)");const k={key:_,...r[_],name:S};p.push(k)}p.length===1&&p[0].name==="(garbage collection)"&&(p=f.concat(p));const y=l[d++];switch(o){case"object":i.appendSampleWithWeight(p,y),i.setValueFormatter(new RawValueFormatter);break;case"cpu":i.appendSampleWithWeight(p,y*t);break;default:let g=0;for(let _=0;_<y;_++)g+=e[n++];i.appendSampleWithWeight(p,g)}f=p}return i.build()}var common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(u){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function o(t,i){return Object.prototype.hasOwnProperty.call(t,i)}u.assign=function(t){for(var i=Array.prototype.slice.call(arguments,1);i.length;){var n=i.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var f in n)o(n,f)&&(t[f]=n[f])}}return t},u.shrinkBuf=function(t,i){return t.length===i?t:t.subarray?t.subarray(0,i):(t.length=i,t)};var l={arraySet:function(t,i,n,f,d){if(i.subarray&&t.subarray){t.set(i.subarray(n,n+f),d);return}for(var c=0;c<f;c++)t[d+c]=i[n+c]},flattenChunks:function(t){var i,n,f,d,c,p;for(f=0,i=0,n=t.length;i<n;i++)f+=t[i].length;for(p=new Uint8Array(f),d=0,i=0,n=t.length;i<n;i++)c=t[i],p.set(c,d),d+=c.length;return p}},e={arraySet:function(t,i,n,f,d){for(var c=0;c<f;c++)t[d+c]=i[n+c]},flattenChunks:function(t){return[].concat.apply([],t)}};u.setTyped=function(t){t?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,l)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,e))},u.setTyped(r)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var u=requireCommon(),r=4,o=0,l=1,e=2;function t(m){for(var E=m.length;--E>=0;)m[E]=0}var i=0,n=1,f=2,d=3,c=258,p=29,y=256,g=y+1+p,_=30,S=19,k=2*g+1,N=15,x=16,P=7,q=256,z=16,Z=17,D=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=512,C=new Array((g+2)*2);t(C);var K=new Array(_*2);t(K);var X=new Array(A);t(X);var j=new Array(c-d+1);t(j);var V=new Array(p);t(V);var ne=new Array(_);t(ne);function Y(m,E,R,W,b){this.static_tree=m,this.extra_bits=E,this.extra_base=R,this.elems=W,this.max_length=b,this.has_stree=m&&m.length}var re,ue,ee;function te(m,E){this.dyn_tree=m,this.max_code=0,this.stat_desc=E}function ce(m){return m<256?X[m]:X[256+(m>>>7)]}function ge(m,E){m.pending_buf[m.pending++]=E&255,m.pending_buf[m.pending++]=E>>>8&255}function ae(m,E,R){m.bi_valid>x-R?(m.bi_buf|=E<<m.bi_valid&65535,ge(m,m.bi_buf),m.bi_buf=E>>x-m.bi_valid,m.bi_valid+=R-x):(m.bi_buf|=E<<m.bi_valid&65535,m.bi_valid+=R)}function he(m,E,R){ae(m,R[E*2],R[E*2+1])}function le(m,E){var R=0;do R|=m&1,m>>>=1,R<<=1;while(--E>0);return R>>>1}function we(m){m.bi_valid===16?(ge(m,m.bi_buf),m.bi_buf=0,m.bi_valid=0):m.bi_valid>=8&&(m.pending_buf[m.pending++]=m.bi_buf&255,m.bi_buf>>=8,m.bi_valid-=8)}function Ne(m,E){var R=E.dyn_tree,W=E.max_code,b=E.stat_desc.static_tree,T=E.stat_desc.has_stree,s=E.stat_desc.extra_bits,B=E.stat_desc.extra_base,J=E.stat_desc.max_length,a,L,F,h,v,$,H=0;for(h=0;h<=N;h++)m.bl_count[h]=0;for(R[m.heap[m.heap_max]*2+1]=0,a=m.heap_max+1;a<k;a++)L=m.heap[a],h=R[R[L*2+1]*2+1]+1,h>J&&(h=J,H++),R[L*2+1]=h,!(L>W)&&(m.bl_count[h]++,v=0,L>=B&&(v=s[L-B]),$=R[L*2],m.opt_len+=$*(h+v),T&&(m.static_len+=$*(b[L*2+1]+v)));if(H!==0){do{for(h=J-1;m.bl_count[h]===0;)h--;m.bl_count[h]--,m.bl_count[h+1]+=2,m.bl_count[J]--,H-=2}while(H>0);for(h=J;h!==0;h--)for(L=m.bl_count[h];L!==0;)F=m.heap[--a],!(F>W)&&(R[F*2+1]!==h&&(m.opt_len+=(h-R[F*2+1])*R[F*2],R[F*2+1]=h),L--)}}function $e(m,E,R){var W=new Array(N+1),b=0,T,s;for(T=1;T<=N;T++)W[T]=b=b+R[T-1]<<1;for(s=0;s<=E;s++){var B=m[s*2+1];B!==0&&(m[s*2]=le(W[B]++,B))}}function fe(){var m,E,R,W,b,T=new Array(N+1);for(R=0,W=0;W<p-1;W++)for(V[W]=R,m=0;m<1<<G[W];m++)j[R++]=W;for(j[R-1]=W,b=0,W=0;W<16;W++)for(ne[W]=b,m=0;m<1<<O[W];m++)X[b++]=W;for(b>>=7;W<_;W++)for(ne[W]=b<<7,m=0;m<1<<O[W]-7;m++)X[256+b++]=W;for(E=0;E<=N;E++)T[E]=0;for(m=0;m<=143;)C[m*2+1]=8,m++,T[8]++;for(;m<=255;)C[m*2+1]=9,m++,T[9]++;for(;m<=279;)C[m*2+1]=7,m++,T[7]++;for(;m<=287;)C[m*2+1]=8,m++,T[8]++;for($e(C,g+1,T),m=0;m<_;m++)K[m*2+1]=5,K[m*2]=le(m,5);re=new Y(C,G,y+1,g,N),ue=new Y(K,O,0,_,N),ee=new Y(new Array(0),I,0,S,P)}function be(m){var E;for(E=0;E<g;E++)m.dyn_ltree[E*2]=0;for(E=0;E<_;E++)m.dyn_dtree[E*2]=0;for(E=0;E<S;E++)m.bl_tree[E*2]=0;m.dyn_ltree[q*2]=1,m.opt_len=m.static_len=0,m.last_lit=m.matches=0}function De(m){m.bi_valid>8?ge(m,m.bi_buf):m.bi_valid>0&&(m.pending_buf[m.pending++]=m.bi_buf),m.bi_buf=0,m.bi_valid=0}function Le(m,E,R,W){De(m),ge(m,R),ge(m,~R),u.arraySet(m.pending_buf,m.window,E,R,m.pending),m.pending+=R}function ke(m,E,R,W){var b=E*2,T=R*2;return m[b]<m[T]||m[b]===m[T]&&W[E]<=W[R]}function se(m,E,R){for(var W=m.heap[R],b=R<<1;b<=m.heap_len&&(b<m.heap_len&&ke(E,m.heap[b+1],m.heap[b],m.depth)&&b++,!ke(E,W,m.heap[b],m.depth));)m.heap[R]=m.heap[b],R=b,b<<=1;m.heap[R]=W}function Q(m,E,R){var W,b,T=0,s,B;if(m.last_lit!==0)do W=m.pending_buf[m.d_buf+T*2]<<8|m.pending_buf[m.d_buf+T*2+1],b=m.pending_buf[m.l_buf+T],T++,W===0?he(m,b,E):(s=j[b],he(m,s+y+1,E),B=G[s],B!==0&&(b-=V[s],ae(m,b,B)),W--,s=ce(W),he(m,s,R),B=O[s],B!==0&&(W-=ne[s],ae(m,W,B)));while(T<m.last_lit);he(m,q,E)}function Fe(m,E){var R=E.dyn_tree,W=E.stat_desc.static_tree,b=E.stat_desc.has_stree,T=E.stat_desc.elems,s,B,J=-1,a;for(m.heap_len=0,m.heap_max=k,s=0;s<T;s++)R[s*2]!==0?(m.heap[++m.heap_len]=J=s,m.depth[s]=0):R[s*2+1]=0;for(;m.heap_len<2;)a=m.heap[++m.heap_len]=J<2?++J:0,R[a*2]=1,m.depth[a]=0,m.opt_len--,b&&(m.static_len-=W[a*2+1]);for(E.max_code=J,s=m.heap_len>>1;s>=1;s--)se(m,R,s);a=T;do s=m.heap[1],m.heap[1]=m.heap[m.heap_len--],se(m,R,1),B=m.heap[1],m.heap[--m.heap_max]=s,m.heap[--m.heap_max]=B,R[a*2]=R[s*2]+R[B*2],m.depth[a]=(m.depth[s]>=m.depth[B]?m.depth[s]:m.depth[B])+1,R[s*2+1]=R[B*2+1]=a,m.heap[1]=a++,se(m,R,1);while(m.heap_len>=2);m.heap[--m.heap_max]=m.heap[1],Ne(m,E),$e(R,J,m.bl_count)}function qe(m,E,R){var W,b=-1,T,s=E[0*2+1],B=0,J=7,a=4;for(s===0&&(J=138,a=3),E[(R+1)*2+1]=65535,W=0;W<=R;W++)T=s,s=E[(W+1)*2+1],!(++B<J&&T===s)&&(B<a?m.bl_tree[T*2]+=B:T!==0?(T!==b&&m.bl_tree[T*2]++,m.bl_tree[z*2]++):B<=10?m.bl_tree[Z*2]++:m.bl_tree[D*2]++,B=0,b=T,s===0?(J=138,a=3):T===s?(J=6,a=3):(J=7,a=4))}function Ae(m,E,R){var W,b=-1,T,s=E[0*2+1],B=0,J=7,a=4;for(s===0&&(J=138,a=3),W=0;W<=R;W++)if(T=s,s=E[(W+1)*2+1],!(++B<J&&T===s)){if(B<a)do he(m,T,m.bl_tree);while(--B!==0);else T!==0?(T!==b&&(he(m,T,m.bl_tree),B--),he(m,z,m.bl_tree),ae(m,B-3,2)):B<=10?(he(m,Z,m.bl_tree),ae(m,B-3,3)):(he(m,D,m.bl_tree),ae(m,B-11,7));B=0,b=T,s===0?(J=138,a=3):T===s?(J=6,a=3):(J=7,a=4)}}function Ie(m){var E;for(qe(m,m.dyn_ltree,m.l_desc.max_code),qe(m,m.dyn_dtree,m.d_desc.max_code),Fe(m,m.bl_desc),E=S-1;E>=3&&m.bl_tree[w[E]*2+1]===0;E--);return m.opt_len+=3*(E+1)+5+5+4,E}function Ue(m,E,R,W){var b;for(ae(m,E-257,5),ae(m,R-1,5),ae(m,W-4,4),b=0;b<W;b++)ae(m,m.bl_tree[w[b]*2+1],3);Ae(m,m.dyn_ltree,E-1),Ae(m,m.dyn_dtree,R-1)}function Re(m){var E=4093624447,R;for(R=0;R<=31;R++,E>>>=1)if(E&1&&m.dyn_ltree[R*2]!==0)return o;if(m.dyn_ltree[9*2]!==0||m.dyn_ltree[10*2]!==0||m.dyn_ltree[13*2]!==0)return l;for(R=32;R<y;R++)if(m.dyn_ltree[R*2]!==0)return l;return o}var xe=!1;function Me(m){xe||(fe(),xe=!0),m.l_desc=new te(m.dyn_ltree,re),m.d_desc=new te(m.dyn_dtree,ue),m.bl_desc=new te(m.bl_tree,ee),m.bi_buf=0,m.bi_valid=0,be(m)}function Ce(m,E,R,W){ae(m,(i<<1)+(W?1:0),3),Le(m,E,R)}function _e(m){ae(m,n<<1,3),he(m,q,C),we(m)}function Oe(m,E,R,W){var b,T,s=0;m.level>0?(m.strm.data_type===e&&(m.strm.data_type=Re(m)),Fe(m,m.l_desc),Fe(m,m.d_desc),s=Ie(m),b=m.opt_len+3+7>>>3,T=m.static_len+3+7>>>3,T<=b&&(b=T)):b=T=R+5,R+4<=b&&E!==-1?Ce(m,E,R,W):m.strategy===r||T===b?(ae(m,(n<<1)+(W?1:0),3),Q(m,C,K)):(ae(m,(f<<1)+(W?1:0),3),Ue(m,m.l_desc.max_code+1,m.d_desc.max_code+1,s+1),Q(m,m.dyn_ltree,m.dyn_dtree)),be(m),W&&De(m)}function ze(m,E,R){return m.pending_buf[m.d_buf+m.last_lit*2]=E>>>8&255,m.pending_buf[m.d_buf+m.last_lit*2+1]=E&255,m.pending_buf[m.l_buf+m.last_lit]=R&255,m.last_lit++,E===0?m.dyn_ltree[R*2]++:(m.matches++,E--,m.dyn_ltree[(j[R]+y+1)*2]++,m.dyn_dtree[ce(E)*2]++),m.last_lit===m.lit_bufsize-1}return trees._tr_init=Me,trees._tr_stored_block=Ce,trees._tr_flush_block=Oe,trees._tr_tally=ze,trees._tr_align=_e,trees}var adler32_1,hasRequiredAdler32;function requireAdler32(){if(hasRequiredAdler32)return adler32_1;hasRequiredAdler32=1;function u(r,o,l,e){for(var t=r&65535|0,i=r>>>16&65535|0,n=0;l!==0;){n=l>2e3?2e3:l,l-=n;do t=t+o[e++]|0,i=i+t|0;while(--n);t%=65521,i%=65521}return t|i<<16|0}return adler32_1=u,adler32_1}var crc32_1,hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;function u(){for(var l,e=[],t=0;t<256;t++){l=t;for(var i=0;i<8;i++)l=l&1?3988292384^l>>>1:l>>>1;e[t]=l}return e}var r=u();function o(l,e,t,i){var n=r,f=i+t;l^=-1;for(var d=i;d<f;d++)l=l>>>8^n[(l^e[d])&255];return l^-1}return crc32_1=o,crc32_1}var messages,hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages}var hasRequiredDeflate$1;function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var u=requireCommon(),r=requireTrees(),o=requireAdler32(),l=requireCrc32(),e=requireMessages(),t=0,i=1,n=3,f=4,d=5,c=0,p=1,y=-2,g=-3,_=-5,S=-1,k=1,N=2,x=3,P=4,q=0,z=2,Z=8,D=9,G=15,O=8,I=29,w=256,A=w+1+I,C=30,K=19,X=2*A+1,j=15,V=3,ne=258,Y=ne+V+1,re=32,ue=42,ee=69,te=73,ce=91,ge=103,ae=113,he=666,le=1,we=2,Ne=3,$e=4,fe=3;function be(a,L){return a.msg=e[L],L}function De(a){return(a<<1)-(a>4?9:0)}function Le(a){for(var L=a.length;--L>=0;)a[L]=0}function ke(a){var L=a.state,F=L.pending;F>a.avail_out&&(F=a.avail_out),F!==0&&(u.arraySet(a.output,L.pending_buf,L.pending_out,F,a.next_out),a.next_out+=F,L.pending_out+=F,a.total_out+=F,a.avail_out-=F,L.pending-=F,L.pending===0&&(L.pending_out=0))}function se(a,L){r._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,L),a.block_start=a.strstart,ke(a.strm)}function Q(a,L){a.pending_buf[a.pending++]=L}function Fe(a,L){a.pending_buf[a.pending++]=L>>>8&255,a.pending_buf[a.pending++]=L&255}function qe(a,L,F,h){var v=a.avail_in;return v>h&&(v=h),v===0?0:(a.avail_in-=v,u.arraySet(L,a.input,a.next_in,v,F),a.state.wrap===1?a.adler=o(a.adler,L,v,F):a.state.wrap===2&&(a.adler=l(a.adler,L,v,F)),a.next_in+=v,a.total_in+=v,v)}function Ae(a,L){var F=a.max_chain_length,h=a.strstart,v,$,H=a.prev_length,U=a.nice_match,M=a.strstart>a.w_size-Y?a.strstart-(a.w_size-Y):0,ie=a.window,Be=a.w_mask,de=a.prev,oe=a.strstart+ne,me=ie[h+H-1],ve=ie[h+H];a.prev_length>=a.good_match&&(F>>=2),U>a.lookahead&&(U=a.lookahead);do if(v=L,!(ie[v+H]!==ve||ie[v+H-1]!==me||ie[v]!==ie[h]||ie[++v]!==ie[h+1])){h+=2,v++;do;while(ie[++h]===ie[++v]&&ie[++h]===ie[++v]&&ie[++h]===ie[++v]&&ie[++h]===ie[++v]&&ie[++h]===ie[++v]&&ie[++h]===ie[++v]&&ie[++h]===ie[++v]&&ie[++h]===ie[++v]&&h<oe);if($=ne-(oe-h),h=oe-ne,$>H){if(a.match_start=L,H=$,$>=U)break;me=ie[h+H-1],ve=ie[h+H]}}while((L=de[L&Be])>M&&--F!==0);return H<=a.lookahead?H:a.lookahead}function Ie(a){var L=a.w_size,F,h,v,$,H;do{if($=a.window_size-a.lookahead-a.strstart,a.strstart>=L+(L-Y)){u.arraySet(a.window,a.window,L,L,0),a.match_start-=L,a.strstart-=L,a.block_start-=L,h=a.hash_size,F=h;do v=a.head[--F],a.head[F]=v>=L?v-L:0;while(--h);h=L,F=h;do v=a.prev[--F],a.prev[F]=v>=L?v-L:0;while(--h);$+=L}if(a.strm.avail_in===0)break;if(h=qe(a.strm,a.window,a.strstart+a.lookahead,$),a.lookahead+=h,a.lookahead+a.insert>=V)for(H=a.strstart-a.insert,a.ins_h=a.window[H],a.ins_h=(a.ins_h<<a.hash_shift^a.window[H+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[H+V-1])&a.hash_mask,a.prev[H&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=H,H++,a.insert--,!(a.lookahead+a.insert<V)););}while(a.lookahead<Y&&a.strm.avail_in!==0)}function Ue(a,L){var F=65535;for(F>a.pending_buf_size-5&&(F=a.pending_buf_size-5);;){if(a.lookahead<=1){if(Ie(a),a.lookahead===0&&L===t)return le;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;var h=a.block_start+F;if((a.strstart===0||a.strstart>=h)&&(a.lookahead=a.strstart-h,a.strstart=h,se(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-Y&&(se(a,!1),a.strm.avail_out===0))return le}return a.insert=0,L===f?(se(a,!0),a.strm.avail_out===0?Ne:$e):(a.strstart>a.block_start&&(se(a,!1),a.strm.avail_out===0),le)}function Re(a,L){for(var F,h;;){if(a.lookahead<Y){if(Ie(a),a.lookahead<Y&&L===t)return le;if(a.lookahead===0)break}if(F=0,a.lookahead>=V&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+V-1])&a.hash_mask,F=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),F!==0&&a.strstart-F<=a.w_size-Y&&(a.match_length=Ae(a,F)),a.match_length>=V)if(h=r._tr_tally(a,a.strstart-a.match_start,a.match_length-V),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=V){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+V-1])&a.hash_mask,F=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else h=r._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(h&&(se(a,!1),a.strm.avail_out===0))return le}return a.insert=a.strstart<V-1?a.strstart:V-1,L===f?(se(a,!0),a.strm.avail_out===0?Ne:$e):a.last_lit&&(se(a,!1),a.strm.avail_out===0)?le:we}function xe(a,L){for(var F,h,v;;){if(a.lookahead<Y){if(Ie(a),a.lookahead<Y&&L===t)return le;if(a.lookahead===0)break}if(F=0,a.lookahead>=V&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+V-1])&a.hash_mask,F=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=V-1,F!==0&&a.prev_length<a.max_lazy_match&&a.strstart-F<=a.w_size-Y&&(a.match_length=Ae(a,F),a.match_length<=5&&(a.strategy===k||a.match_length===V&&a.strstart-a.match_start>4096)&&(a.match_length=V-1)),a.prev_length>=V&&a.match_length<=a.prev_length){v=a.strstart+a.lookahead-V,h=r._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-V),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=v&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+V-1])&a.hash_mask,F=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=V-1,a.strstart++,h&&(se(a,!1),a.strm.avail_out===0))return le}else if(a.match_available){if(h=r._tr_tally(a,0,a.window[a.strstart-1]),h&&se(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return le}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(h=r._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<V-1?a.strstart:V-1,L===f?(se(a,!0),a.strm.avail_out===0?Ne:$e):a.last_lit&&(se(a,!1),a.strm.avail_out===0)?le:we}function Me(a,L){for(var F,h,v,$,H=a.window;;){if(a.lookahead<=ne){if(Ie(a),a.lookahead<=ne&&L===t)return le;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=V&&a.strstart>0&&(v=a.strstart-1,h=H[v],h===H[++v]&&h===H[++v]&&h===H[++v])){$=a.strstart+ne;do;while(h===H[++v]&&h===H[++v]&&h===H[++v]&&h===H[++v]&&h===H[++v]&&h===H[++v]&&h===H[++v]&&h===H[++v]&&v<$);a.match_length=ne-($-v),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=V?(F=r._tr_tally(a,1,a.match_length-V),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(F=r._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),F&&(se(a,!1),a.strm.avail_out===0))return le}return a.insert=0,L===f?(se(a,!0),a.strm.avail_out===0?Ne:$e):a.last_lit&&(se(a,!1),a.strm.avail_out===0)?le:we}function Ce(a,L){for(var F;;){if(a.lookahead===0&&(Ie(a),a.lookahead===0)){if(L===t)return le;break}if(a.match_length=0,F=r._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,F&&(se(a,!1),a.strm.avail_out===0))return le}return a.insert=0,L===f?(se(a,!0),a.strm.avail_out===0?Ne:$e):a.last_lit&&(se(a,!1),a.strm.avail_out===0)?le:we}function _e(a,L,F,h,v){this.good_length=a,this.max_lazy=L,this.nice_length=F,this.max_chain=h,this.func=v}var Oe;Oe=[new _e(0,0,0,0,Ue),new _e(4,4,8,4,Re),new _e(4,5,16,8,Re),new _e(4,6,32,32,Re),new _e(4,4,16,16,xe),new _e(8,16,32,32,xe),new _e(8,16,128,128,xe),new _e(8,32,128,256,xe),new _e(32,128,258,1024,xe),new _e(32,258,258,4096,xe)];function ze(a){a.window_size=2*a.w_size,Le(a.head),a.max_lazy_match=Oe[a.level].max_lazy,a.good_match=Oe[a.level].good_length,a.nice_match=Oe[a.level].nice_length,a.max_chain_length=Oe[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=V-1,a.match_available=0,a.ins_h=0}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(X*2),this.dyn_dtree=new u.Buf16((2*C+1)*2),this.bl_tree=new u.Buf16((2*K+1)*2),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(j+1),this.heap=new u.Buf16(2*A+1),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*A+1),Le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(a){var L;return!a||!a.state?be(a,y):(a.total_in=a.total_out=0,a.data_type=z,L=a.state,L.pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?ue:ae,a.adler=L.wrap===2?0:1,L.last_flush=t,r._tr_init(L),c)}function R(a){var L=E(a);return L===c&&ze(a.state),L}function W(a,L){return!a||!a.state||a.state.wrap!==2?y:(a.state.gzhead=L,c)}function b(a,L,F,h,v,$){if(!a)return y;var H=1;if(L===S&&(L=6),h<0?(H=0,h=-h):h>15&&(H=2,h-=16),v<1||v>D||F!==Z||h<8||h>15||L<0||L>9||$<0||$>P)return be(a,y);h===8&&(h=9);var U=new m;return a.state=U,U.strm=a,U.wrap=H,U.gzhead=null,U.w_bits=h,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=v+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+V-1)/V),U.window=new u.Buf8(U.w_size*2),U.head=new u.Buf16(U.hash_size),U.prev=new u.Buf16(U.w_size),U.lit_bufsize=1<<v+6,U.pending_buf_size=U.lit_bufsize*4,U.pending_buf=new u.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=L,U.strategy=$,U.method=F,R(a)}function T(a,L){return b(a,L,Z,G,O,q)}function s(a,L){var F,h,v,$;if(!a||!a.state||L>d||L<0)return a?be(a,y):y;if(h=a.state,!a.output||!a.input&&a.avail_in!==0||h.status===he&&L!==f)return be(a,a.avail_out===0?_:y);if(h.strm=a,F=h.last_flush,h.last_flush=L,h.status===ue)if(h.wrap===2)a.adler=0,Q(h,31),Q(h,139),Q(h,8),h.gzhead?(Q(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),Q(h,h.gzhead.time&255),Q(h,h.gzhead.time>>8&255),Q(h,h.gzhead.time>>16&255),Q(h,h.gzhead.time>>24&255),Q(h,h.level===9?2:h.strategy>=N||h.level<2?4:0),Q(h,h.gzhead.os&255),h.gzhead.extra&&h.gzhead.extra.length&&(Q(h,h.gzhead.extra.length&255),Q(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=l(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=ee):(Q(h,0),Q(h,0),Q(h,0),Q(h,0),Q(h,0),Q(h,h.level===9?2:h.strategy>=N||h.level<2?4:0),Q(h,fe),h.status=ae);else{var H=Z+(h.w_bits-8<<4)<<8,U=-1;h.strategy>=N||h.level<2?U=0:h.level<6?U=1:h.level===6?U=2:U=3,H|=U<<6,h.strstart!==0&&(H|=re),H+=31-H%31,h.status=ae,Fe(h,H),h.strstart!==0&&(Fe(h,a.adler>>>16),Fe(h,a.adler&65535)),a.adler=1}if(h.status===ee)if(h.gzhead.extra){for(v=h.pending;h.gzindex<(h.gzhead.extra.length&65535)&&!(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>v&&(a.adler=l(a.adler,h.pending_buf,h.pending-v,v)),ke(a),v=h.pending,h.pending===h.pending_buf_size));)Q(h,h.gzhead.extra[h.gzindex]&255),h.gzindex++;h.gzhead.hcrc&&h.pending>v&&(a.adler=l(a.adler,h.pending_buf,h.pending-v,v)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=te)}else h.status=te;if(h.status===te)if(h.gzhead.name){v=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>v&&(a.adler=l(a.adler,h.pending_buf,h.pending-v,v)),ke(a),v=h.pending,h.pending===h.pending_buf_size)){$=1;break}h.gzindex<h.gzhead.name.length?$=h.gzhead.name.charCodeAt(h.gzindex++)&255:$=0,Q(h,$)}while($!==0);h.gzhead.hcrc&&h.pending>v&&(a.adler=l(a.adler,h.pending_buf,h.pending-v,v)),$===0&&(h.gzindex=0,h.status=ce)}else h.status=ce;if(h.status===ce)if(h.gzhead.comment){v=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>v&&(a.adler=l(a.adler,h.pending_buf,h.pending-v,v)),ke(a),v=h.pending,h.pending===h.pending_buf_size)){$=1;break}h.gzindex<h.gzhead.comment.length?$=h.gzhead.comment.charCodeAt(h.gzindex++)&255:$=0,Q(h,$)}while($!==0);h.gzhead.hcrc&&h.pending>v&&(a.adler=l(a.adler,h.pending_buf,h.pending-v,v)),$===0&&(h.status=ge)}else h.status=ge;if(h.status===ge&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&ke(a),h.pending+2<=h.pending_buf_size&&(Q(h,a.adler&255),Q(h,a.adler>>8&255),a.adler=0,h.status=ae)):h.status=ae),h.pending!==0){if(ke(a),a.avail_out===0)return h.last_flush=-1,c}else if(a.avail_in===0&&De(L)<=De(F)&&L!==f)return be(a,_);if(h.status===he&&a.avail_in!==0)return be(a,_);if(a.avail_in!==0||h.lookahead!==0||L!==t&&h.status!==he){var M=h.strategy===N?Ce(h,L):h.strategy===x?Me(h,L):Oe[h.level].func(h,L);if((M===Ne||M===$e)&&(h.status=he),M===le||M===Ne)return a.avail_out===0&&(h.last_flush=-1),c;if(M===we&&(L===i?r._tr_align(h):L!==d&&(r._tr_stored_block(h,0,0,!1),L===n&&(Le(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),ke(a),a.avail_out===0))return h.last_flush=-1,c}return L!==f?c:h.wrap<=0?p:(h.wrap===2?(Q(h,a.adler&255),Q(h,a.adler>>8&255),Q(h,a.adler>>16&255),Q(h,a.adler>>24&255),Q(h,a.total_in&255),Q(h,a.total_in>>8&255),Q(h,a.total_in>>16&255),Q(h,a.total_in>>24&255)):(Fe(h,a.adler>>>16),Fe(h,a.adler&65535)),ke(a),h.wrap>0&&(h.wrap=-h.wrap),h.pending!==0?c:p)}function B(a){var L;return!a||!a.state?y:(L=a.state.status,L!==ue&&L!==ee&&L!==te&&L!==ce&&L!==ge&&L!==ae&&L!==he?be(a,y):(a.state=null,L===ae?be(a,g):c))}function J(a,L){var F=L.length,h,v,$,H,U,M,ie,Be;if(!a||!a.state||(h=a.state,H=h.wrap,H===2||H===1&&h.status!==ue||h.lookahead))return y;for(H===1&&(a.adler=o(a.adler,L,F,0)),h.wrap=0,F>=h.w_size&&(H===0&&(Le(h.head),h.strstart=0,h.block_start=0,h.insert=0),Be=new u.Buf8(h.w_size),u.arraySet(Be,L,F-h.w_size,h.w_size,0),L=Be,F=h.w_size),U=a.avail_in,M=a.next_in,ie=a.input,a.avail_in=F,a.next_in=0,a.input=L,Ie(h);h.lookahead>=V;){v=h.strstart,$=h.lookahead-(V-1);do h.ins_h=(h.ins_h<<h.hash_shift^h.window[v+V-1])&h.hash_mask,h.prev[v&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=v,v++;while(--$);h.strstart=v,h.lookahead=V-1,Ie(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,h.match_length=h.prev_length=V-1,h.match_available=0,a.next_in=M,a.input=ie,a.avail_in=U,h.wrap=H,c}return deflate.deflateInit=T,deflate.deflateInit2=b,deflate.deflateReset=R,deflate.deflateResetKeep=E,deflate.deflateSetHeader=W,deflate.deflate=s,deflate.deflateEnd=B,deflate.deflateSetDictionary=J,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var u=requireCommon(),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new u.Buf8(256),e=0;e<256;e++)l[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;l[254]=l[254]=1,strings.string2buf=function(i){var n,f,d,c,p,y=i.length,g=0;for(c=0;c<y;c++)f=i.charCodeAt(c),(f&64512)===55296&&c+1<y&&(d=i.charCodeAt(c+1),(d&64512)===56320&&(f=65536+(f-55296<<10)+(d-56320),c++)),g+=f<128?1:f<2048?2:f<65536?3:4;for(n=new u.Buf8(g),p=0,c=0;p<g;c++)f=i.charCodeAt(c),(f&64512)===55296&&c+1<y&&(d=i.charCodeAt(c+1),(d&64512)===56320&&(f=65536+(f-55296<<10)+(d-56320),c++)),f<128?n[p++]=f:f<2048?(n[p++]=192|f>>>6,n[p++]=128|f&63):f<65536?(n[p++]=224|f>>>12,n[p++]=128|f>>>6&63,n[p++]=128|f&63):(n[p++]=240|f>>>18,n[p++]=128|f>>>12&63,n[p++]=128|f>>>6&63,n[p++]=128|f&63);return n};function t(i,n){if(n<65537&&(i.subarray&&o||!i.subarray&&r))return String.fromCharCode.apply(null,u.shrinkBuf(i,n));for(var f="",d=0;d<n;d++)f+=String.fromCharCode(i[d]);return f}return strings.buf2binstring=function(i){return t(i,i.length)},strings.binstring2buf=function(i){for(var n=new u.Buf8(i.length),f=0,d=n.length;f<d;f++)n[f]=i.charCodeAt(f);return n},strings.buf2string=function(i,n){var f,d,c,p,y=n||i.length,g=new Array(y*2);for(d=0,f=0;f<y;){if(c=i[f++],c<128){g[d++]=c;continue}if(p=l[c],p>4){g[d++]=65533,f+=p-1;continue}for(c&=p===2?31:p===3?15:7;p>1&&f<y;)c=c<<6|i[f++]&63,p--;if(p>1){g[d++]=65533;continue}c<65536?g[d++]=c:(c-=65536,g[d++]=55296|c>>10&1023,g[d++]=56320|c&1023)}return t(g,d)},strings.utf8border=function(i,n){var f;for(n=n||i.length,n>i.length&&(n=i.length),f=n-1;f>=0&&(i[f]&192)===128;)f--;return f<0||f===0?n:f+l[i[f]]>n?f:n},strings}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function u(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=u,zstream}var hasRequiredDeflate;function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var u=requireDeflate$1(),r=requireCommon(),o=requireStrings(),l=requireMessages(),e=requireZstream(),t=Object.prototype.toString,i=0,n=4,f=0,d=1,c=2,p=-1,y=0,g=8;function _(x){if(!(this instanceof _))return new _(x);this.options=r.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},x||{});var P=this.options;P.raw&&P.windowBits>0?P.windowBits=-P.windowBits:P.gzip&&P.windowBits>0&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e,this.strm.avail_out=0;var q=u.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(q!==f)throw new Error(l[q]);if(P.header&&u.deflateSetHeader(this.strm,P.header),P.dictionary){var z;if(typeof P.dictionary=="string"?z=o.string2buf(P.dictionary):t.call(P.dictionary)==="[object ArrayBuffer]"?z=new Uint8Array(P.dictionary):z=P.dictionary,q=u.deflateSetDictionary(this.strm,z),q!==f)throw new Error(l[q]);this._dict_set=!0}}_.prototype.push=function(x,P){var q=this.strm,z=this.options.chunkSize,Z,D;if(this.ended)return!1;D=P===~~P?P:P===!0?n:i,typeof x=="string"?q.input=o.string2buf(x):t.call(x)==="[object ArrayBuffer]"?q.input=new Uint8Array(x):q.input=x,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new r.Buf8(z),q.next_out=0,q.avail_out=z),Z=u.deflate(q,D),Z!==d&&Z!==f)return this.onEnd(Z),this.ended=!0,!1;(q.avail_out===0||q.avail_in===0&&(D===n||D===c))&&(this.options.to==="string"?this.onData(o.buf2binstring(r.shrinkBuf(q.output,q.next_out))):this.onData(r.shrinkBuf(q.output,q.next_out)))}while((q.avail_in>0||q.avail_out===0)&&Z!==d);return D===n?(Z=u.deflateEnd(this.strm),this.onEnd(Z),this.ended=!0,Z===f):(D===c&&(this.onEnd(f),q.avail_out=0),!0)},_.prototype.onData=function(x){this.chunks.push(x)},_.prototype.onEnd=function(x){x===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg};function S(x,P){var q=new _(P);if(q.push(x,!0),q.err)throw q.msg||l[q.err];return q.result}function k(x,P){return P=P||{},P.raw=!0,S(x,P)}function N(x,P){return P=P||{},P.gzip=!0,S(x,P)}return deflate$1.Deflate=_,deflate$1.deflate=S,deflate$1.deflateRaw=k,deflate$1.gzip=N,deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;var u=30,r=12;return inffast=function(l,e){var t,i,n,f,d,c,p,y,g,_,S,k,N,x,P,q,z,Z,D,G,O,I,w,A,C;t=l.state,i=l.next_in,A=l.input,n=i+(l.avail_in-5),f=l.next_out,C=l.output,d=f-(e-l.avail_out),c=f+(l.avail_out-257),p=t.dmax,y=t.wsize,g=t.whave,_=t.wnext,S=t.window,k=t.hold,N=t.bits,x=t.lencode,P=t.distcode,q=(1<<t.lenbits)-1,z=(1<<t.distbits)-1;e:do{N<15&&(k+=A[i++]<<N,N+=8,k+=A[i++]<<N,N+=8),Z=x[k&q];t:for(;;){if(D=Z>>>24,k>>>=D,N-=D,D=Z>>>16&255,D===0)C[f++]=Z&65535;else if(D&16){G=Z&65535,D&=15,D&&(N<D&&(k+=A[i++]<<N,N+=8),G+=k&(1<<D)-1,k>>>=D,N-=D),N<15&&(k+=A[i++]<<N,N+=8,k+=A[i++]<<N,N+=8),Z=P[k&z];i:for(;;){if(D=Z>>>24,k>>>=D,N-=D,D=Z>>>16&255,D&16){if(O=Z&65535,D&=15,N<D&&(k+=A[i++]<<N,N+=8,N<D&&(k+=A[i++]<<N,N+=8)),O+=k&(1<<D)-1,O>p){l.msg="invalid distance too far back",t.mode=u;break e}if(k>>>=D,N-=D,D=f-d,O>D){if(D=O-D,D>g&&t.sane){l.msg="invalid distance too far back",t.mode=u;break e}if(I=0,w=S,_===0){if(I+=y-D,D<G){G-=D;do C[f++]=S[I++];while(--D);I=f-O,w=C}}else if(_<D){if(I+=y+_-D,D-=_,D<G){G-=D;do C[f++]=S[I++];while(--D);if(I=0,_<G){D=_,G-=D;do C[f++]=S[I++];while(--D);I=f-O,w=C}}}else if(I+=_-D,D<G){G-=D;do C[f++]=S[I++];while(--D);I=f-O,w=C}for(;G>2;)C[f++]=w[I++],C[f++]=w[I++],C[f++]=w[I++],G-=3;G&&(C[f++]=w[I++],G>1&&(C[f++]=w[I++]))}else{I=f-O;do C[f++]=C[I++],C[f++]=C[I++],C[f++]=C[I++],G-=3;while(G>2);G&&(C[f++]=C[I++],G>1&&(C[f++]=C[I++]))}}else if((D&64)===0){Z=P[(Z&65535)+(k&(1<<D)-1)];continue i}else{l.msg="invalid distance code",t.mode=u;break e}break}}else if((D&64)===0){Z=x[(Z&65535)+(k&(1<<D)-1)];continue t}else if(D&32){t.mode=r;break e}else{l.msg="invalid literal/length code",t.mode=u;break e}break}}while(i<n&&f<c);G=N>>3,i-=G,N-=G<<3,k&=(1<<N)-1,l.next_in=i,l.next_out=f,l.avail_in=i<n?5+(n-i):5-(i-n),l.avail_out=f<c?257+(c-f):257-(f-c),t.hold=k,t.bits=N},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var u=requireCommon(),r=15,o=852,l=592,e=0,t=1,i=2,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(y,g,_,S,k,N,x,P){var q=P.bits,z=0,Z=0,D=0,G=0,O=0,I=0,w=0,A=0,C=0,K=0,X,j,V,ne,Y,re=null,ue=0,ee,te=new u.Buf16(r+1),ce=new u.Buf16(r+1),ge=null,ae=0,he,le,we;for(z=0;z<=r;z++)te[z]=0;for(Z=0;Z<S;Z++)te[g[_+Z]]++;for(O=q,G=r;G>=1&&te[G]===0;G--);if(O>G&&(O=G),G===0)return k[N++]=1<<24|64<<16|0,k[N++]=1<<24|64<<16|0,P.bits=1,0;for(D=1;D<G&&te[D]===0;D++);for(O<D&&(O=D),A=1,z=1;z<=r;z++)if(A<<=1,A-=te[z],A<0)return-1;if(A>0&&(y===e||G!==1))return-1;for(ce[1]=0,z=1;z<r;z++)ce[z+1]=ce[z]+te[z];for(Z=0;Z<S;Z++)g[_+Z]!==0&&(x[ce[g[_+Z]]++]=Z);if(y===e?(re=ge=x,ee=19):y===t?(re=n,ue-=257,ge=f,ae-=257,ee=256):(re=d,ge=c,ee=-1),K=0,Z=0,z=D,Y=N,I=O,w=0,V=-1,C=1<<O,ne=C-1,y===t&&C>o||y===i&&C>l)return 1;for(;;){he=z-w,x[Z]<ee?(le=0,we=x[Z]):x[Z]>ee?(le=ge[ae+x[Z]],we=re[ue+x[Z]]):(le=96,we=0),X=1<<z-w,j=1<<I,D=j;do j-=X,k[Y+(K>>w)+j]=he<<24|le<<16|we|0;while(j!==0);for(X=1<<z-1;K&X;)X>>=1;if(X!==0?(K&=X-1,K+=X):K=0,Z++,--te[z]===0){if(z===G)break;z=g[_+x[Z]]}if(z>O&&(K&ne)!==V){for(w===0&&(w=O),Y+=D,I=z-w,A=1<<I;I+w<G&&(A-=te[I+w],!(A<=0));)I++,A<<=1;if(C+=1<<I,y===t&&C>o||y===i&&C>l)return 1;V=K&ne,k[V]=O<<24|I<<16|Y-N|0}}return K!==0&&(k[Y+K]=z-w<<24|64<<16|0),P.bits=O,0},inftrees}var hasRequiredInflate$1;function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var u=requireCommon(),r=requireAdler32(),o=requireCrc32(),l=requireInffast(),e=requireInftrees(),t=0,i=1,n=2,f=4,d=5,c=6,p=0,y=1,g=2,_=-2,S=-3,k=-4,N=-5,x=8,P=1,q=2,z=3,Z=4,D=5,G=6,O=7,I=8,w=9,A=10,C=11,K=12,X=13,j=14,V=15,ne=16,Y=17,re=18,ue=19,ee=20,te=21,ce=22,ge=23,ae=24,he=25,le=26,we=27,Ne=28,$e=29,fe=30,be=31,De=32,Le=852,ke=592,se=15,Q=se;function Fe(b){return(b>>>24&255)+(b>>>8&65280)+((b&65280)<<8)+((b&255)<<24)}function qe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ae(b){var T;return!b||!b.state?_:(T=b.state,b.total_in=b.total_out=T.total=0,b.msg="",T.wrap&&(b.adler=T.wrap&1),T.mode=P,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new u.Buf32(Le),T.distcode=T.distdyn=new u.Buf32(ke),T.sane=1,T.back=-1,p)}function Ie(b){var T;return!b||!b.state?_:(T=b.state,T.wsize=0,T.whave=0,T.wnext=0,Ae(b))}function Ue(b,T){var s,B;return!b||!b.state||(B=b.state,T<0?(s=0,T=-T):(s=(T>>4)+1,T<48&&(T&=15)),T&&(T<8||T>15))?_:(B.window!==null&&B.wbits!==T&&(B.window=null),B.wrap=s,B.wbits=T,Ie(b))}function Re(b,T){var s,B;return b?(B=new qe,b.state=B,B.window=null,s=Ue(b,T),s!==p&&(b.state=null),s):_}function xe(b){return Re(b,Q)}var Me=!0,Ce,_e;function Oe(b){if(Me){var T;for(Ce=new u.Buf32(512),_e=new u.Buf32(32),T=0;T<144;)b.lens[T++]=8;for(;T<256;)b.lens[T++]=9;for(;T<280;)b.lens[T++]=7;for(;T<288;)b.lens[T++]=8;for(e(i,b.lens,0,288,Ce,0,b.work,{bits:9}),T=0;T<32;)b.lens[T++]=5;e(n,b.lens,0,32,_e,0,b.work,{bits:5}),Me=!1}b.lencode=Ce,b.lenbits=9,b.distcode=_e,b.distbits=5}function ze(b,T,s,B){var J,a=b.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new u.Buf8(a.wsize)),B>=a.wsize?(u.arraySet(a.window,T,s-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(J=a.wsize-a.wnext,J>B&&(J=B),u.arraySet(a.window,T,s-B,J,a.wnext),B-=J,B?(u.arraySet(a.window,T,s-B,B,0),a.wnext=B,a.whave=a.wsize):(a.wnext+=J,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=J))),0}function m(b,T){var s,B,J,a,L,F,h,v,$,H,U,M,ie,Be,de=0,oe,me,ve,Se,We,Ze,pe,Te,ye=new u.Buf8(4),Pe,Ee,Ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return _;s=b.state,s.mode===K&&(s.mode=X),L=b.next_out,J=b.output,h=b.avail_out,a=b.next_in,B=b.input,F=b.avail_in,v=s.hold,$=s.bits,H=F,U=h,Te=p;e:for(;;)switch(s.mode){case P:if(s.wrap===0){s.mode=X;break}for(;$<16;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if(s.wrap&2&&v===35615){s.check=0,ye[0]=v&255,ye[1]=v>>>8&255,s.check=o(s.check,ye,2,0),v=0,$=0,s.mode=q;break}if(s.flags=0,s.head&&(s.head.done=!1),!(s.wrap&1)||(((v&255)<<8)+(v>>8))%31){b.msg="incorrect header check",s.mode=fe;break}if((v&15)!==x){b.msg="unknown compression method",s.mode=fe;break}if(v>>>=4,$-=4,pe=(v&15)+8,s.wbits===0)s.wbits=pe;else if(pe>s.wbits){b.msg="invalid window size",s.mode=fe;break}s.dmax=1<<pe,b.adler=s.check=1,s.mode=v&512?A:K,v=0,$=0;break;case q:for(;$<16;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if(s.flags=v,(s.flags&255)!==x){b.msg="unknown compression method",s.mode=fe;break}if(s.flags&57344){b.msg="unknown header flags set",s.mode=fe;break}s.head&&(s.head.text=v>>8&1),s.flags&512&&(ye[0]=v&255,ye[1]=v>>>8&255,s.check=o(s.check,ye,2,0)),v=0,$=0,s.mode=z;case z:for(;$<32;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}s.head&&(s.head.time=v),s.flags&512&&(ye[0]=v&255,ye[1]=v>>>8&255,ye[2]=v>>>16&255,ye[3]=v>>>24&255,s.check=o(s.check,ye,4,0)),v=0,$=0,s.mode=Z;case Z:for(;$<16;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}s.head&&(s.head.xflags=v&255,s.head.os=v>>8),s.flags&512&&(ye[0]=v&255,ye[1]=v>>>8&255,s.check=o(s.check,ye,2,0)),v=0,$=0,s.mode=D;case D:if(s.flags&1024){for(;$<16;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}s.length=v,s.head&&(s.head.extra_len=v),s.flags&512&&(ye[0]=v&255,ye[1]=v>>>8&255,s.check=o(s.check,ye,2,0)),v=0,$=0}else s.head&&(s.head.extra=null);s.mode=G;case G:if(s.flags&1024&&(M=s.length,M>F&&(M=F),M&&(s.head&&(pe=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),u.arraySet(s.head.extra,B,a,M,pe)),s.flags&512&&(s.check=o(s.check,B,M,a)),F-=M,a+=M,s.length-=M),s.length))break e;s.length=0,s.mode=O;case O:if(s.flags&2048){if(F===0)break e;M=0;do pe=B[a+M++],s.head&&pe&&s.length<65536&&(s.head.name+=String.fromCharCode(pe));while(pe&&M<F);if(s.flags&512&&(s.check=o(s.check,B,M,a)),F-=M,a+=M,pe)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=I;case I:if(s.flags&4096){if(F===0)break e;M=0;do pe=B[a+M++],s.head&&pe&&s.length<65536&&(s.head.comment+=String.fromCharCode(pe));while(pe&&M<F);if(s.flags&512&&(s.check=o(s.check,B,M,a)),F-=M,a+=M,pe)break e}else s.head&&(s.head.comment=null);s.mode=w;case w:if(s.flags&512){for(;$<16;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if(v!==(s.check&65535)){b.msg="header crc mismatch",s.mode=fe;break}v=0,$=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),b.adler=s.check=0,s.mode=K;break;case A:for(;$<32;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}b.adler=s.check=Fe(v),v=0,$=0,s.mode=C;case C:if(s.havedict===0)return b.next_out=L,b.avail_out=h,b.next_in=a,b.avail_in=F,s.hold=v,s.bits=$,g;b.adler=s.check=1,s.mode=K;case K:if(T===d||T===c)break e;case X:if(s.last){v>>>=$&7,$-=$&7,s.mode=we;break}for(;$<3;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}switch(s.last=v&1,v>>>=1,$-=1,v&3){case 0:s.mode=j;break;case 1:if(Oe(s),s.mode=ee,T===c){v>>>=2,$-=2;break e}break;case 2:s.mode=Y;break;case 3:b.msg="invalid block type",s.mode=fe}v>>>=2,$-=2;break;case j:for(v>>>=$&7,$-=$&7;$<32;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if((v&65535)!==(v>>>16^65535)){b.msg="invalid stored block lengths",s.mode=fe;break}if(s.length=v&65535,v=0,$=0,s.mode=V,T===c)break e;case V:s.mode=ne;case ne:if(M=s.length,M){if(M>F&&(M=F),M>h&&(M=h),M===0)break e;u.arraySet(J,B,a,M,L),F-=M,a+=M,h-=M,L+=M,s.length-=M;break}s.mode=K;break;case Y:for(;$<14;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if(s.nlen=(v&31)+257,v>>>=5,$-=5,s.ndist=(v&31)+1,v>>>=5,$-=5,s.ncode=(v&15)+4,v>>>=4,$-=4,s.nlen>286||s.ndist>30){b.msg="too many length or distance symbols",s.mode=fe;break}s.have=0,s.mode=re;case re:for(;s.have<s.ncode;){for(;$<3;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}s.lens[Ve[s.have++]]=v&7,v>>>=3,$-=3}for(;s.have<19;)s.lens[Ve[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,Pe={bits:s.lenbits},Te=e(t,s.lens,0,19,s.lencode,0,s.work,Pe),s.lenbits=Pe.bits,Te){b.msg="invalid code lengths set",s.mode=fe;break}s.have=0,s.mode=ue;case ue:for(;s.have<s.nlen+s.ndist;){for(;de=s.lencode[v&(1<<s.lenbits)-1],oe=de>>>24,me=de>>>16&255,ve=de&65535,!(oe<=$);){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if(ve<16)v>>>=oe,$-=oe,s.lens[s.have++]=ve;else{if(ve===16){for(Ee=oe+2;$<Ee;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if(v>>>=oe,$-=oe,s.have===0){b.msg="invalid bit length repeat",s.mode=fe;break}pe=s.lens[s.have-1],M=3+(v&3),v>>>=2,$-=2}else if(ve===17){for(Ee=oe+3;$<Ee;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}v>>>=oe,$-=oe,pe=0,M=3+(v&7),v>>>=3,$-=3}else{for(Ee=oe+7;$<Ee;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}v>>>=oe,$-=oe,pe=0,M=11+(v&127),v>>>=7,$-=7}if(s.have+M>s.nlen+s.ndist){b.msg="invalid bit length repeat",s.mode=fe;break}for(;M--;)s.lens[s.have++]=pe}}if(s.mode===fe)break;if(s.lens[256]===0){b.msg="invalid code -- missing end-of-block",s.mode=fe;break}if(s.lenbits=9,Pe={bits:s.lenbits},Te=e(i,s.lens,0,s.nlen,s.lencode,0,s.work,Pe),s.lenbits=Pe.bits,Te){b.msg="invalid literal/lengths set",s.mode=fe;break}if(s.distbits=6,s.distcode=s.distdyn,Pe={bits:s.distbits},Te=e(n,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,Pe),s.distbits=Pe.bits,Te){b.msg="invalid distances set",s.mode=fe;break}if(s.mode=ee,T===c)break e;case ee:s.mode=te;case te:if(F>=6&&h>=258){b.next_out=L,b.avail_out=h,b.next_in=a,b.avail_in=F,s.hold=v,s.bits=$,l(b,U),L=b.next_out,J=b.output,h=b.avail_out,a=b.next_in,B=b.input,F=b.avail_in,v=s.hold,$=s.bits,s.mode===K&&(s.back=-1);break}for(s.back=0;de=s.lencode[v&(1<<s.lenbits)-1],oe=de>>>24,me=de>>>16&255,ve=de&65535,!(oe<=$);){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if(me&&(me&240)===0){for(Se=oe,We=me,Ze=ve;de=s.lencode[Ze+((v&(1<<Se+We)-1)>>Se)],oe=de>>>24,me=de>>>16&255,ve=de&65535,!(Se+oe<=$);){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}v>>>=Se,$-=Se,s.back+=Se}if(v>>>=oe,$-=oe,s.back+=oe,s.length=ve,me===0){s.mode=le;break}if(me&32){s.back=-1,s.mode=K;break}if(me&64){b.msg="invalid literal/length code",s.mode=fe;break}s.extra=me&15,s.mode=ce;case ce:if(s.extra){for(Ee=s.extra;$<Ee;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}s.length+=v&(1<<s.extra)-1,v>>>=s.extra,$-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=ge;case ge:for(;de=s.distcode[v&(1<<s.distbits)-1],oe=de>>>24,me=de>>>16&255,ve=de&65535,!(oe<=$);){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if((me&240)===0){for(Se=oe,We=me,Ze=ve;de=s.distcode[Ze+((v&(1<<Se+We)-1)>>Se)],oe=de>>>24,me=de>>>16&255,ve=de&65535,!(Se+oe<=$);){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}v>>>=Se,$-=Se,s.back+=Se}if(v>>>=oe,$-=oe,s.back+=oe,me&64){b.msg="invalid distance code",s.mode=fe;break}s.offset=ve,s.extra=me&15,s.mode=ae;case ae:if(s.extra){for(Ee=s.extra;$<Ee;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}s.offset+=v&(1<<s.extra)-1,v>>>=s.extra,$-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){b.msg="invalid distance too far back",s.mode=fe;break}s.mode=he;case he:if(h===0)break e;if(M=U-h,s.offset>M){if(M=s.offset-M,M>s.whave&&s.sane){b.msg="invalid distance too far back",s.mode=fe;break}M>s.wnext?(M-=s.wnext,ie=s.wsize-M):ie=s.wnext-M,M>s.length&&(M=s.length),Be=s.window}else Be=J,ie=L-s.offset,M=s.length;M>h&&(M=h),h-=M,s.length-=M;do J[L++]=Be[ie++];while(--M);s.length===0&&(s.mode=te);break;case le:if(h===0)break e;J[L++]=s.length,h--,s.mode=te;break;case we:if(s.wrap){for(;$<32;){if(F===0)break e;F--,v|=B[a++]<<$,$+=8}if(U-=h,b.total_out+=U,s.total+=U,U&&(b.adler=s.check=s.flags?o(s.check,J,U,L-U):r(s.check,J,U,L-U)),U=h,(s.flags?v:Fe(v))!==s.check){b.msg="incorrect data check",s.mode=fe;break}v=0,$=0}s.mode=Ne;case Ne:if(s.wrap&&s.flags){for(;$<32;){if(F===0)break e;F--,v+=B[a++]<<$,$+=8}if(v!==(s.total&4294967295)){b.msg="incorrect length check",s.mode=fe;break}v=0,$=0}s.mode=$e;case $e:Te=y;break e;case fe:Te=S;break e;case be:return k;case De:default:return _}return b.next_out=L,b.avail_out=h,b.next_in=a,b.avail_in=F,s.hold=v,s.bits=$,(s.wsize||U!==b.avail_out&&s.mode<fe&&(s.mode<we||T!==f))&&ze(b,b.output,b.next_out,U-b.avail_out),H-=b.avail_in,U-=b.avail_out,b.total_in+=H,b.total_out+=U,s.total+=U,s.wrap&&U&&(b.adler=s.check=s.flags?o(s.check,J,U,b.next_out-U):r(s.check,J,U,b.next_out-U)),b.data_type=s.bits+(s.last?64:0)+(s.mode===K?128:0)+(s.mode===ee||s.mode===V?256:0),(H===0&&U===0||T===f)&&Te===p&&(Te=N),Te}function E(b){if(!b||!b.state)return _;var T=b.state;return T.window&&(T.window=null),b.state=null,p}function R(b,T){var s;return!b||!b.state||(s=b.state,(s.wrap&2)===0)?_:(s.head=T,T.done=!1,p)}function W(b,T){var s=T.length,B,J,a;return!b||!b.state||(B=b.state,B.wrap!==0&&B.mode!==C)?_:B.mode===C&&(J=1,J=r(J,T,s,0),J!==B.check)?S:(a=ze(b,T,s,s),a?(B.mode=be,k):(B.havedict=1,p))}return inflate.inflateReset=Ie,inflate.inflateReset2=Ue,inflate.inflateResetKeep=Ae,inflate.inflateInit=xe,inflate.inflateInit2=Re,inflate.inflate=m,inflate.inflateEnd=E,inflate.inflateGetHeader=R,inflate.inflateSetDictionary=W,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var constants,hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants}var gzheader,hasRequiredGzheader;function requireGzheader(){if(hasRequiredGzheader)return gzheader;hasRequiredGzheader=1;function u(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader=u,gzheader}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var u=requireInflate$1(),r=requireCommon(),o=requireStrings(),l=requireConstants(),e=requireMessages(),t=requireZstream(),i=requireGzheader(),n=Object.prototype.toString;function f(p){if(!(this instanceof f))return new f(p);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},p||{});var y=this.options;y.raw&&y.windowBits>=0&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),y.windowBits>=0&&y.windowBits<16&&!(p&&p.windowBits)&&(y.windowBits+=32),y.windowBits>15&&y.windowBits<48&&(y.windowBits&15)===0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t,this.strm.avail_out=0;var g=u.inflateInit2(this.strm,y.windowBits);if(g!==l.Z_OK)throw new Error(e[g]);this.header=new i,u.inflateGetHeader(this.strm,this.header)}f.prototype.push=function(p,y){var g=this.strm,_=this.options.chunkSize,S=this.options.dictionary,k,N,x,P,q,z,Z=!1;if(this.ended)return!1;N=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?g.input=o.binstring2buf(p):n.call(p)==="[object ArrayBuffer]"?g.input=new Uint8Array(p):g.input=p,g.next_in=0,g.avail_in=g.input.length;do{if(g.avail_out===0&&(g.output=new r.Buf8(_),g.next_out=0,g.avail_out=_),k=u.inflate(g,l.Z_NO_FLUSH),k===l.Z_NEED_DICT&&S&&(typeof S=="string"?z=o.string2buf(S):n.call(S)==="[object ArrayBuffer]"?z=new Uint8Array(S):z=S,k=u.inflateSetDictionary(this.strm,z)),k===l.Z_BUF_ERROR&&Z===!0&&(k=l.Z_OK,Z=!1),k!==l.Z_STREAM_END&&k!==l.Z_OK)return this.onEnd(k),this.ended=!0,!1;g.next_out&&(g.avail_out===0||k===l.Z_STREAM_END||g.avail_in===0&&(N===l.Z_FINISH||N===l.Z_SYNC_FLUSH))&&(this.options.to==="string"?(x=o.utf8border(g.output,g.next_out),P=g.next_out-x,q=o.buf2string(g.output,x),g.next_out=P,g.avail_out=_-P,P&&r.arraySet(g.output,g.output,x,P,0),this.onData(q)):this.onData(r.shrinkBuf(g.output,g.next_out))),g.avail_in===0&&g.avail_out===0&&(Z=!0)}while((g.avail_in>0||g.avail_out===0)&&k!==l.Z_STREAM_END);return k===l.Z_STREAM_END&&(N=l.Z_FINISH),N===l.Z_FINISH?(k=u.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===l.Z_OK):(N===l.Z_SYNC_FLUSH&&(this.onEnd(l.Z_OK),g.avail_out=0),!0)},f.prototype.onData=function(p){this.chunks.push(p)},f.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function d(p,y){var g=new f(y);if(g.push(p,!0),g.err)throw g.msg||e[g.err];return g.result}function c(p,y){return y=y||{},y.raw=!0,d(p,y)}return inflate$1.Inflate=f,inflate$1.inflate=d,inflate$1.inflateRaw=c,inflate$1.ungzip=d,inflate$1}var pako_1,hasRequiredPako;function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var u=requireCommon().assign,r=requireDeflate(),o=requireInflate(),l=requireConstants(),e={};return u(e,r,o,l),pako_1=e,pako_1}var pakoExports=requirePako(),uint8arrayJsonParser={},hasRequiredUint8arrayJsonParser;function requireUint8arrayJsonParser(){return hasRequiredUint8arrayJsonParser||(hasRequiredUint8arrayJsonParser=1,function(u){(function(r){var o=String.fromCharCode;function l(e,t,i){for(var n=e[t],f=1,d=0,c=0;c<t;c++)e[c]===10?(f++,d=0):d++;throw new SyntaxError(i||(t===e.length?"Unexpected end of input while parsing JSON":n>=32&&n<=126?"Unexpected character "+o(n)+" in JSON at position "+t+" (line "+f+", column "+d+")":"Unexpected byte 0x"+n.toString(16)+" in JSON at position "+t+" (line "+f+", column "+d+")"))}r.JSON_parse=function(e){if(!(e instanceof Uint8Array))throw new Error("JSON input must be a Uint8Array");for(var t=[],i=[],n=[],f=e.length,d=null,c=0,p,y=0;y<f;){var g=e[y++];if(!(g<=32)){var _=void 0;switch(c===2&&d===null&&g!==34&&g!==125&&l(e,--y),g){case 116:{(e[y++]!==114||e[y++]!==117||e[y++]!==101)&&l(e,--y),_=!0;break}case 102:{(e[y++]!==97||e[y++]!==108||e[y++]!==115||e[y++]!==101)&&l(e,--y),_=!1;break}case 110:{(e[y++]!==117||e[y++]!==108||e[y++]!==108)&&l(e,--y),_=null;break}case 45:case 46:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:{var S=y;for(_=o(g),g=e[y];;){switch(g){case 43:case 45:case 46:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 101:case 69:{_+=o(g),g=e[++y];continue}}break}_=+_,isNaN(_)&&l(e,--S,"Invalid number");break}case 34:{for(_="";y>=f&&l(e,f),g=e[y++],g!==34;)if(g===92)switch(e[y++]){case 34:_+='"';break;case 47:_+="/";break;case 92:_+="\\";break;case 98:_+="\b";break;case 102:_+="\f";break;case 110:_+=`
`;break;case 114:_+="\r";break;case 116:_+="	";break;case 117:{for(var k=0,N=0;N<4;N++)g=e[y++],k<<=4,g>=48&&g<=57?k|=g-48:g>=97&&g<=102?k|=g+-87:g>=65&&g<=70?k|=g+-55:l(e,--y);_+=o(k);break}default:l(e,--y);break}else if(g<=127)_+=o(g);else if((g&224)===192)_+=o((g&31)<<6|e[y++]&63);else if((g&240)===224)_+=o((g&15)<<12|(e[y++]&63)<<6|e[y++]&63);else if((g&248)==240){var x=(g&7)<<18|(e[y++]&63)<<12|(e[y++]&63)<<6|e[y++]&63;x>65535&&(x-=65536,_+=o(x>>10&1023|55296),x=56320|x&1023),_+=o(x)}_[0];break}case 91:{_=[],t.push(d),i.push(p),n.push(c),d=null,p=_,c=1;continue}case 123:{_={},t.push(d),i.push(p),n.push(c),d=null,p=_,c=2;continue}case 93:{c!==1&&l(e,--y),_=p,d=t.pop(),p=i.pop(),c=n.pop();break}case 125:{c!==2&&l(e,--y),_=p,d=t.pop(),p=i.pop(),c=n.pop();break}default:l(e,--y)}for(g=e[y];g<=32;)g=e[++y];switch(c){case 0:{if(y===f)return _;break}case 1:{if(p.push(_),g===44){y++;continue}if(g===93)continue;break}case 2:{if(d===null){if(d=_,g===58){y++;continue}}else{if(p[d]=_,d=null,g===44){y++;continue}if(g===125)continue}break}}break}}l(e,y)}})(u)}(uint8arrayJsonParser)),uint8arrayJsonParser}var uint8arrayJsonParserExports=requireUint8arrayJsonParser();let TEXT_FILE_CHUNK_SIZE=1<<27;function permissivelyParseJSONString(u){return u=u.trim(),u[0]==="["&&(u=u.replace(/,\s*$/,""),u[u.length-1]!=="]"&&(u+="]")),JSON.parse(u)}function permissivelyParseJSONUint8Array(u){let r=0;for(let o=0;o<u.length;o++)if(!/\s/.exec(String.fromCharCode(u[o]))){r=o;break}if(u[r]===91&&u[u.length-1]!==93){let o=u.length;for(;o>0&&/\s/.exec(String.fromCharCode(u[o-1]));)o--;if(String.fromCharCode(u[o-1])===","&&o--,String.fromCharCode(u[o-1])!=="]"){const l=new Uint8Array(o+1);l.set(u.subarray(0,o)),l[o]=93,u=l}}return uint8arrayJsonParserExports.JSON_parse(u)}class BufferBackedTextFileContent{constructor(r){this.chunks=[];const o=this.byteArray=new Uint8Array(r);let l="utf-8";if(o.length>2&&(o[0]===255&&o[1]===254?l="utf-16le":o[0]===254&&o[1]===255&&(l="utf-16be")),typeof TextDecoder<"u"){const e=new TextDecoder(l);for(let t=0;t<r.byteLength/TEXT_FILE_CHUNK_SIZE;t++){const i=t*TEXT_FILE_CHUNK_SIZE,n=new Uint8Array(r,i,Math.min(r.byteLength-i,TEXT_FILE_CHUNK_SIZE)),f=e.decode(n,{stream:!0});this.chunks.push(f)}}else{this.chunks.push("");for(let e=0;e<o.length;e++)this.chunks[this.chunks.length-1]+=String.fromCharCode(o[e]),this.chunks[this.chunks.length-1]|0,this.chunks[this.chunks.length-1].length>=TEXT_FILE_CHUNK_SIZE&&this.chunks.push("")}}splitLines(){const r=function*(){let o="";for(let l of this.chunks){const e=l.split(`
`);for(let t=0;t<e.length;t++)t===0?o+=e[t]:(yield o,o=e[t])}yield o};return{[Symbol.iterator]:r.bind(this)}}firstChunk(){return this.chunks[0]||""}parseAsJSON(){return this.chunks.length===1?permissivelyParseJSONString(this.chunks[0]):permissivelyParseJSONUint8Array(this.byteArray)}}class StringBackedTextFileContent{constructor(r){this.s=r}splitLines(){return this.s.split(`
`)}firstChunk(){return this.s}parseAsJSON(){return permissivelyParseJSONString(this.s)}}class TextProfileDataSource{constructor(r,o){this.fileName=r,this.contents=o}async name(){return this.fileName}async readAsArrayBuffer(){return new ArrayBuffer(0)}async readAsText(){return new StringBackedTextFileContent(this.contents)}}class MaybeCompressedDataReader{constructor(r,o){this.namePromise=r,this.uncompressedData=o.then(async l=>{try{return pakoExports.inflate(new Uint8Array(l)).buffer}catch{return l}})}async name(){return await this.namePromise}async readAsArrayBuffer(){return await this.uncompressedData}async readAsText(){const r=await this.readAsArrayBuffer();return new BufferBackedTextFileContent(r)}static fromFile(r){const o=new Promise(l=>{const e=new FileReader;e.addEventListener("loadend",()=>{if(!(e.result instanceof ArrayBuffer))throw new Error("Expected reader.result to be an instance of ArrayBuffer");l(e.result)}),e.readAsArrayBuffer(r)});return new MaybeCompressedDataReader(Promise.resolve(r.name),o)}static fromArrayBuffer(r,o){return new MaybeCompressedDataReader(Promise.resolve(r),Promise.resolve(o))}}function parseTSV(u){const r=[...u.splitLines()].map(t=>t.split("	")),o=r.shift();if(!o)return[];const l=new Map;for(let t=0;t<o.length;t++)l.set(t,o[t]);const e=[];for(let t of r){const i={};for(let n=0;n<t.length;n++)i[l.get(n)]=t[n];e.push(i)}return e}function getWeight(u){if("Bytes Used"in u){const r=u["Bytes Used"],o=/\s*(\d+(?:[.]\d+)?) (\w+)\s+(?:\d+(?:[.]\d+))%/.exec(r);if(!o)return 0;const l=parseInt(o[1],10),e=o[2];switch(e){case"Bytes":return l;case"KB":return 1024*l;case"MB":return 1024*1024*l;case"GB":return 1024*1024*1024*l}throw new Error(`Unrecognized units ${e}`)}if("Weight"in u||"Running Time"in u){const r=u.Weight||u["Running Time"],o=/\s*(\d+(?:[.]\d+)?) ?(\w+)\s+(?:\d+(?:[.]\d+))%/.exec(r);if(!o)return 0;const l=parseInt(o[1],10),e=o[2];switch(e){case"ms":return l;case"s":return 1e3*l;case"min":return 60*1e3*l;case"cycles":return l;case"Kc":return 1e3*l;case"Mc":return 1e3*1e3*l;case"Gc":return 1e3*1e3*1e3*l}throw new Error(`Unrecognized units ${e}`)}return-1}function importFromInstrumentsDeepCopy(u){var i;const r=new CallTreeProfileBuilder,o=parseTSV(u),l=[];let e=0,t=o[0]["Symbol Names"]?o[0]["Symbol Names"].lastIndexOf(" ")+1:0;for(let n of o){const f=n["Symbol Name"]||((i=n["Symbol Names"])==null?void 0:i.slice(t));if(!f)continue;const d=f.trim();let c=f.length-d.length;if(l.length-c<0)throw new Error("Invalid format");let p=[];for(;c<l.length;){const g=l.pop();p.push(g)}for(let g of p)e=Math.max(e,g.endValue),r.leaveFrame(g,e);const y={key:`${n["Source Path"]||""}:${d}`,name:d,file:n["Source Path"],endValue:e+getWeight(n)};r.enterFrame(y,e),l.push(y)}for(;l.length>0;){const n=l.pop();e=Math.max(e,n.endValue),r.leaveFrame(n,e)}return"Bytes Used"in o[0]?r.setValueFormatter(new ByteFormatter):("Weight"in o[0]||"Running Time"in o[0])&&r.setValueFormatter(new TimeFormatter("milliseconds")),r.build()}async function extractDirectoryTree(u){const r={name:u.name,files:new Map,subdirectories:new Map},o=await new Promise((l,e)=>{u.createReader().readEntries(t=>{l(t)},e)});for(let l of o)if(l.isDirectory){const e=await extractDirectoryTree(l);r.subdirectories.set(e.name,e)}else{const e=await new Promise((t,i)=>{l.file(t,i)});r.files.set(e.name,e)}return r}function readAsArrayBuffer(u){return MaybeCompressedDataReader.fromFile(u).readAsArrayBuffer()}function readAsText(u){return MaybeCompressedDataReader.fromFile(u).readAsText()}function getCoreDirForRun(u,r){const o=getOrThrow(u.subdirectories,"corespace"),l=getOrThrow(o.subdirectories,`run${r}`);return getOrThrow(l.subdirectories,"core")}class BinReader{constructor(r){this.bytePos=0,this.view=new DataView(r)}seek(r){this.bytePos=r}skip(r){this.bytePos+=r}hasMore(){return this.bytePos<this.view.byteLength}bytesLeft(){return this.view.byteLength-this.bytePos}readUint8(){return this.bytePos++,this.bytePos>this.view.byteLength?0:this.view.getUint8(this.bytePos-1)}readUint32(){return this.bytePos+=4,this.bytePos>this.view.byteLength?0:this.view.getUint32(this.bytePos-4,!0)}readUint48(){return this.bytePos+=6,this.bytePos>this.view.byteLength?0:this.view.getUint32(this.bytePos-6,!0)+this.view.getUint16(this.bytePos-2,!0)*Math.pow(2,32)}readUint64(){return this.bytePos+=8,this.bytePos>this.view.byteLength?0:this.view.getUint32(this.bytePos-8,!0)+this.view.getUint32(this.bytePos-4,!0)*Math.pow(2,32)}}async function getRawSampleList(u){const r=getOrThrow(u.subdirectories,"stores");for(let o of r.subdirectories.values()){const l=o.files.get("schema.xml");if(!l)continue;const e=await readAsText(l);if(!/name="time-profile"/.exec(e.firstChunk()))continue;const t=new BinReader(await readAsArrayBuffer(getOrThrow(o.files,"bulkstore")));t.readUint32(),t.readUint32(),t.readUint32();const i=t.readUint32(),n=t.readUint32();t.seek(i);const f=[];for(;;){const d=t.readUint48();if(d===0)break;const c=t.readUint32();t.skip(n-6-4-4);const p=t.readUint32();f.push({timestamp:d,threadID:c,backtraceID:p})}return f}throw new Error("Could not find sample list")}async function getIntegerArrays(u,r){const o=getOrThrow(r.subdirectories,"uniquing"),l=getOrThrow(o.subdirectories,"arrayUniquer"),e=getOrThrow(l.files,"integeruniquer.index"),t=getOrThrow(l.files,"integeruniquer.data"),i=new BinReader(await readAsArrayBuffer(e)),n=new BinReader(await readAsArrayBuffer(t));i.seek(32);let f=[];for(;i.hasMore();){const d=i.readUint32()+i.readUint32()*1048576;if(d===0)continue;n.seek(d);let c=n.readUint32(),p=[];for(;c--;)p.push(n.readUint64());f.push(p)}return f}async function readFormTemplate(u){const r=getOrThrow(u.files,"form.template"),o=readInstrumentsKeyedArchive(await readAsArrayBuffer(r)),l=o["com.apple.xray.owner.template.version"];let e=1;"com.apple.xray.owner.template"in o&&(e=o["com.apple.xray.owner.template"].get("_selectedRunNumber"));let t=o.$1;"stubInfoByUUID"in o&&(t=Array.from(o.stubInfoByUUID.keys())[0]);const i=o["com.apple.xray.run.data"],n=[];for(let f of i.runNumbers){const d=getOrThrow(i.runData,f),c=getOrThrow(d,"symbolsByPid"),p=new Map;for(let y of c.values()){for(let g of y.symbols){if(!g)continue;const{sourcePath:_,symbolName:S,addressToLine:k}=g;for(let N of k.keys())getOrInsert(p,N,()=>{const x=S||`0x${zeroPad(N.toString(16),16)}`,P={key:`${_}:${x}`,name:x};return _&&(P.file=_),P})}n.push({number:f,addressToFrameMap:p})}}return{version:l,instrument:t,selectedRunNumber:e,runs:n}}async function importFromInstrumentsTrace(u){const r=await extractDirectoryTree(u),{version:o,runs:l,instrument:e,selectedRunNumber:t}=await readFormTemplate(r);if(e!=="com.apple.xray.instrument-type.coresampler2")throw new Error(`The only supported instrument from .trace import is "com.apple.xray.instrument-type.coresampler2". Got ${e}`);const i=[];let n=0;for(let f of l){const{addressToFrameMap:d,number:c}=f,p=await importRunFromInstrumentsTrace({fileName:u.name,tree:r,addressToFrameMap:d,runNumber:c});f.number===t&&(n=i.length+p.indexToView),i.push(...p.profiles)}return{name:u.name,indexToView:n,profiles:i}}async function importRunFromInstrumentsTrace(u){const{fileName:r,tree:o,addressToFrameMap:l,runNumber:e}=u,t=getCoreDirForRun(o,e);let i=await getRawSampleList(t);const n=await getIntegerArrays(i,t),f=new Map;for(let p of i)f.set(p.threadID,getOrElse(f,p.threadID,()=>0)+1);const d=Array.from(f.entries());sortBy(d,p=>-p[1]);const c=d.map(p=>p[0]);return{name:r,indexToView:0,profiles:c.map(p=>importThreadFromInstrumentsTrace({threadID:p,fileName:r,arrays:n,addressToFrameMap:l,samples:i}))}}function importThreadFromInstrumentsTrace(u){let{fileName:r,addressToFrameMap:o,arrays:l,threadID:e,samples:t}=u;const i=new Map;t=t.filter(c=>c.threadID===e);const n=new StackListProfileBuilder(lastOf(t).timestamp);n.setName(`${r} - thread ${e}`);function f(c,p){const y=o.get(c);if(y)p.push(y);else if(c in l)for(let g of l[c])f(g,p);else{const g={key:c,name:`0x${zeroPad(c.toString(16),16)}`};o.set(c,g),p.push(g)}}let d=null;for(let c of t){const p=getOrInsert(i,c.backtraceID,y=>{const g=[];return f(y,g),g.reverse(),g});if(d===null&&(n.appendSampleWithWeight([],c.timestamp),d=c.timestamp),c.timestamp<d)throw new Error("Timestamps out of order!");n.appendSampleWithWeight(p,c.timestamp-d),d=c.timestamp}return n.setValueFormatter(new TimeFormatter("nanoseconds")),n.build()}function readInstrumentsKeyedArchive(u){const r=new Uint8Array(u),o=parseBinaryPlist(r);return expandKeyedArchive(o,(e,t)=>{switch(e){case"NSTextStorage":case"NSParagraphStyle":case"NSFont":return null;case"PFTSymbolData":{const i=Object.create(null);i.symbolName=t.$0,i.sourcePath=t.$1,i.addressToLine=new Map;for(let n=3;;n+=2){const f=t["$"+n],d=t["$"+(n+1)];if(f==null||d==null)break;i.addressToLine.set(f,d)}return i}case"PFTOwnerData":{const i=Object.create(null);return i.ownerName=t.$0,i.ownerPath=t.$1,i}case"PFTPersistentSymbols":{const i=Object.create(null),n=t.$4;i.threadNames=t.$3,i.symbols=[];for(let f=1;f<n;f++)i.symbols.push(t["$"+(4+f)]);return i}case"XRRunListData":{const i=Object.create(null);return i.runNumbers=t.$0,i.runData=t.$1,i}case"XRIntKeyedDictionary":{const i=new Map,n=t.$0;for(let f=0;f<n;f++){const d=t["$"+(1+2*f)],c=t["$"+(1+(2*f+1))];i.set(d,c)}return i}case"XRCore":{const i=Object.create(null);return i.number=t.$0,i.name=t.$1,i}}return t})}function decodeUTF8(u){let r=String.fromCharCode.apply(String,Array.from(u));return r.slice(-1)==="\0"&&(r=r.slice(0,-1)),decodeURIComponent(escape(r))}function isArray(u){return u instanceof Array}function isDictionary(u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===null}function followUID(u,r){return r instanceof UID?u[r.index]:r}function expandKeyedArchive(u,r=o=>o){if(u.$version!==1e5||u.$archiver!=="NSKeyedArchiver"||!isDictionary(u.$top)||!isArray(u.$objects))throw new Error("Invalid keyed archive");u.$objects[0]==="$null"&&(u.$objects[0]=null);for(let l=0;l<u.$objects.length;l++)u.$objects[l]=paternMatchObjectiveC(u.$objects,u.$objects[l],r);let o=l=>{if(l instanceof UID)return u.$objects[l.index];if(isArray(l))for(let e=0;e<l.length;e++)l[e]=o(l[e]);else if(isDictionary(l))for(let e in l)l[e]=o(l[e]);else if(l instanceof Map){const e=new Map(l);l.clear();for(let[t,i]of e.entries())l.set(o(t),o(i))}return l};for(let l=0;l<u.$objects.length;l++)o(u.$objects[l]);return o(u.$top)}function paternMatchObjectiveC(u,r,o=l=>l){if(isDictionary(r)&&r.$class){let l=followUID(u,r.$class).$classname;switch(l){case"NSDecimalNumberPlaceholder":{let n=r["NS.length"],f=r["NS.exponent"],d=r["NS.mantissa.bo"],c=r["NS.negative"],p=new Uint16Array(new Uint8Array(r["NS.mantissa"]).buffer),y=0;for(let g=0;g<n;g++){let _=p[g];d!==1&&(_=(_&65280)>>8|(_&255)<<8),y+=_*Math.pow(65536,g)}return y*=Math.pow(10,f),c?-y:y}case"NSData":case"NSMutableData":return r["NS.bytes"]||r["NS.data"];case"NSString":case"NSMutableString":return r["NS.string"]?r["NS.string"]:r["NS.bytes"]?decodeUTF8(r["NS.bytes"]):null;case"NSArray":case"NSMutableArray":if("NS.objects"in r)return r["NS.objects"];let e=[];for(;;){let n="NS.object."+e.length;if(!(n in r))break;e.push(r[n])}return e;case"_NSKeyedCoderOldStyleArray":{const n=r["NS.count"];let f=[];for(let d=0;d<n;d++){const c=r["$"+d];f.push(c)}return f}case"NSDictionary":case"NSMutableDictionary":let t=new Map;if("NS.keys"in r&&"NS.objects"in r)for(let n=0;n<r["NS.keys"].length;n++)t.set(r["NS.keys"][n],r["NS.objects"][n]);else for(;;){let n="NS.key."+t.size,f="NS.object."+t.size;if(!(n in r)||!(f in r))break;t.set(r[n],r[f])}return t;default:const i=o(l,r);if(i!==r)return i}}return r}class UID{constructor(r){this.index=r}}function parseBinaryPlist(u){let r="bplist00";for(let o=0;o<8;o++)if(u[o]!==r.charCodeAt(o))throw new Error("File is not a binary plist");return new BinaryPlistParser(new DataView(u.buffer,u.byteOffset,u.byteLength)).parseRoot()}class BinaryPlistParser{constructor(r){this.view=r,this.referenceSize=0,this.objects=[],this.offsetTable=[]}parseRoot(){let r=this.view.byteLength-32,o=this.view.getUint8(r+6);this.referenceSize=this.view.getUint8(r+7);let l=this.view.getUint32(r+12,!1),e=this.view.getUint32(r+20,!1),t=this.view.getUint32(r+28,!1);for(let i=0;i<l;i++)this.offsetTable.push(this.parseInteger(t,o)),t+=o;return this.parseObject(this.offsetTable[e])}parseLengthAndOffset(r,o){if(o!==15)return{length:o,offset:0};let l=this.view.getUint8(r++);if((l&240)!==16)throw new Error("Unexpected non-integer length at offset "+r);let e=1<<(l&15);return{length:this.parseInteger(r,e),offset:e+1}}parseSingleton(r,o){if(o===0)return null;if(o===8)return!1;if(o===9)return!0;throw new Error("Unexpected extra value "+o+" at offset "+r)}parseInteger(r,o){if(o===1)return this.view.getUint8(r);if(o===2)return this.view.getUint16(r,!1);if(o===4)return this.view.getUint32(r,!1);if(o===8)return Math.pow(2,32*1)*this.view.getUint32(r+0,!1)+Math.pow(2,32*0)*this.view.getUint32(r+4,!1);if(o===16)return Math.pow(2,32*3)*this.view.getUint32(r+0,!1)+Math.pow(2,32*2)*this.view.getUint32(r+4,!1)+Math.pow(2,32*1)*this.view.getUint32(r+8,!1)+Math.pow(2,32*0)*this.view.getUint32(r+12,!1);throw new Error("Unexpected integer of size "+o+" at offset "+r)}parseFloat(r,o){if(o===4)return this.view.getFloat32(r,!1);if(o===8)return this.view.getFloat64(r,!1);throw new Error("Unexpected float of size "+o+" at offset "+r)}parseDate(r,o){if(o!==8)throw new Error("Unexpected date of size "+o+" at offset "+r);let l=this.view.getFloat64(r,!1);return new Date(9783072e5+l*1e3)}parseData(r,o){let l=this.parseLengthAndOffset(r,o);return new Uint8Array(this.view.buffer,r+l.offset,l.length)}parseStringASCII(r,o){let l=this.parseLengthAndOffset(r,o),e="";r+=l.offset;for(let t=0;t<l.length;t++)e+=String.fromCharCode(this.view.getUint8(r++));return e}parseStringUTF16(r,o){let l=this.parseLengthAndOffset(r,o),e="";r+=l.offset;for(let t=0;t<l.length;t++)e+=String.fromCharCode(this.view.getUint16(r,!1)),r+=2;return e}parseUID(r,o){return new UID(this.parseInteger(r,o))}parseArray(r,o){let l=this.parseLengthAndOffset(r,o),e=[],t=this.referenceSize;r+=l.offset;for(let i=0;i<l.length;i++)e.push(this.parseObject(this.offsetTable[this.parseInteger(r,t)])),r+=t;return e}parseDictionary(r,o){let l=this.parseLengthAndOffset(r,o),e=Object.create(null),t=this.referenceSize,i=r+l.offset,n=i+l.length*t;for(let f=0;f<l.length;f++){let d=this.parseObject(this.offsetTable[this.parseInteger(i,t)]),c=this.parseObject(this.offsetTable[this.parseInteger(n,t)]);if(typeof d!="string")throw new Error("Unexpected non-string key at offset "+i);e[d]=c,i+=t,n+=t}return e}parseObject(r){let o=this.view.getUint8(r++),l=o&15;switch(o>>4){case 0:return this.parseSingleton(r,l);case 1:return this.parseInteger(r,1<<l);case 2:return this.parseFloat(r,1<<l);case 3:return this.parseDate(r,1<<l);case 4:return this.parseData(r,l);case 5:return this.parseStringASCII(r,l);case 6:return this.parseStringUTF16(r,l);case 8:return this.parseUID(r,l+1);case 10:return this.parseArray(r,l);case 13:return this.parseDictionary(r,l)}throw new Error("Unexpected marker "+o+" at offset "+--r)}}function parseBGFoldedStacks(u){const r=[];for(const o of u.splitLines()){const l=/^(.*) (\d+)$/gm.exec(o);if(!l)continue;const e=l[1],t=l[2];r.push({stack:e.split(";").map(i=>({key:i,name:i})),duration:parseInt(t,10)})}return r}function importFromBGFlameGraph(u){const r=parseBGFoldedStacks(u),o=r.reduce((e,t)=>e+t.duration,0),l=new StackListProfileBuilder(o);if(r.length===0)return null;for(let e of r)l.appendSampleWithWeight(e.stack,e.duration);return l.build()}function importFromFirefox(u){const r=u.profile,o=r.threads.length===1?r.threads[0]:r.threads.filter(n=>n.name==="GeckoMain")[0],l=new Map;function e(n){let f=n[0];const d=[];for(;f!=null;){const c=o.stackTable.data[f],[p,y]=c;d.push(y),f=p}return d.reverse(),d.map(c=>{const p=o.frameTable.data[c],y=o.stringTable[p[0]],g=/(.*)\s+\((.*?)(?::(\d+))?(?::(\d+))?\)$/.exec(y);return!g||g[2].startsWith("resource:")||g[2]==="self-hosted"||g[2].startsWith("self-hosted:")?null:getOrInsert(l,y,()=>({key:y,name:g[1],file:g[2],line:g[3]?parseInt(g[3]):void 0,col:g[4]?parseInt(g[4])+1:void 0}))}).filter(c=>c!=null)}const t=new CallTreeProfileBuilder(u.duration);let i=[];for(let n of o.samples.data){const f=e(n),d=n[1];let c=-1;for(let p=0;p<Math.min(f.length,i.length)&&i[p]===f[p];p++)c=p;for(let p=i.length-1;p>c;p--)t.leaveFrame(i[p],d);for(let p=c+1;p<f.length;p++)t.enterFrame(f[p],d);i=f}return t.setValueFormatter(new TimeFormatter("milliseconds")),t.build()}function codeToFrameInfo(u,r){if(!u||!u.type)return{key:"(unknown type)",name:"(unknown type)"};let o=u.name;switch(u.type){case"CPP":{const l=o.match(/[tT] ([^(<]*)/);l&&(o=`(c++) ${l[1]}`);break}case"SHARED_LIB":o="(LIB) "+o;break;case"JS":{const l=o.match(/([a-zA-Z0-9\._\-$]*) ([a-zA-Z0-9\.\-_\/$]*):(\d+):(\d+)/);if(l){const e=l[2],t=parseInt(l[3],10),i=parseInt(l[4],10),n=l[1].length>0?l[1]:e?`(anonymous ${e.split("/").pop()}:${t})`:"(anonymous)";return{key:o,name:n,file:e.length>0?e:"(unknown file)",line:t,col:i}}break}case"CODE":{switch(u.kind){case"LoadIC":case"StoreIC":case"KeyedStoreIC":case"KeyedLoadIC":case"LoadGlobalIC":case"Handler":o="(IC) "+o;break;case"BytecodeHandler":o="(bytecode) ~"+o;break;case"Stub":o="(stub) "+o;break;case"Builtin":o="(builtin) "+o;break;case"RegExp":o="(regexp) "+o;break}break}default:{o=`(${u.type}) ${o}`;break}}return{key:o,name:o}}function importFromV8ProfLog(u){const r=new StackListProfileBuilder,o=new Map;function l(t){return getOrInsert(o,t,i=>{const n=u.code[i];return codeToFrameInfo(n)})}let e=0;sortBy(u.ticks,t=>t.tm);for(let t of u.ticks){const i=[];for(let n=t.s.length-2;n>=0;n-=2){const f=t.s[n];if(f!==-1){if(f>u.code.length){i.push({key:f,name:`0x${f.toString(16)}`});continue}i.push(l(f))}}r.appendSampleWithWeight(i,t.tm-e),e=t.tm}return r.setValueFormatter(new TimeFormatter("microseconds")),r.build()}function*parseEvents(u){let r=[];for(let o of u.splitLines())o===""?(yield parseEvent(r),r=[]):r.push(o);r.length>0&&(yield parseEvent(r))}function parseEvent(u){const r=u.filter(n=>!/^\s*#/.exec(n)),o={command:null,processID:null,threadID:null,time:null,eventType:"",stack:[]},l=r.shift();if(!l)return null;const e=/^(\S.+?)\s+(\d+)(?:\/?(\d+))?\s+/.exec(l);if(!e)return null;o.command=e[1],e[3]?(o.processID=parseInt(e[2],10),o.threadID=parseInt(e[3],10)):o.threadID=parseInt(e[2],10);const t=/\s+(\d+\.\d+):\s+/.exec(l);t&&(o.time=parseFloat(t[1]));const i=/(\S+):\s*$/.exec(l);i&&(o.eventType=i[1]);for(let n of r){const f=/^\s*(\w+)\s*(.+) \((\S*)\)/.exec(n);if(!f)continue;let[,d,c,p]=f;c=c.replace(/\+0x[\da-f]+$/,""),o.stack.push({address:`0x${d}`,symbolName:c,file:p})}return o.stack.reverse(),o}function importFromLinuxPerf(u){const r=new Map;let o=null;for(let l of parseEvents(u)){if(l==null||o!=null&&o!=l.eventType||l.time==null)continue;o=l.eventType;let e=[];l.command&&e.push(l.command),l.processID&&e.push(`pid: ${l.processID}`),l.threadID&&e.push(`tid: ${l.threadID}`);const t=e.join(" ");getOrInsert(r,t,()=>{const f=new StackListProfileBuilder;return f.setName(t),f.setValueFormatter(new TimeFormatter("seconds")),f}).appendSampleWithTimestamp(l.stack.map(({symbolName:f,file:d})=>({key:`${f} (${d})`,name:f==="[unknown]"?`??? (${d})`:f,file:d})),l.time)}return r.size===0?null:{name:r.size===1?Array.from(r.keys())[0]:"",indexToView:0,profiles:Array.from(itMap(r.values(),l=>l.build()))}}function addToProfile(u,r,o,l,e){if(u.ticks===0&&u.entries===0&&u.alloc===0&&u.children.length===0)return r;let t=r,i=l.get(u.id);o.enterFrame(i,t);for(let n of u.children)t=addToProfile(n,t,o,l,e);return t+=e(u),o.leaveFrame(i,t),t}function importFromHaskell(u){const r=new Map;for(let e of u.cost_centres){const t={key:e.id,name:`${e.module}.${e.label}`};e.src_loc.startsWith("<")||(t.file=e.src_loc),r.set(e.id,t)}const o=new CallTreeProfileBuilder(u.total_ticks);addToProfile(u.profile,0,o,r,e=>e.ticks),o.setValueFormatter(new TimeFormatter("milliseconds")),o.setName(`${u.program} time`);const l=new CallTreeProfileBuilder(u.total_ticks);return addToProfile(u.profile,0,l,r,e=>e.alloc),l.setValueFormatter(new ByteFormatter),l.setName(`${u.program} allocation`),{name:u.program,indexToView:0,profiles:[o.build(),l.build()]}}function makeStack(u){return u.map(({name:r,url:o,line:l,column:e})=>({key:`${r}:${o}:${l}:${e}`,file:o,line:l,col:e,name:r||(o?`(anonymous ${o.split("/").pop()}:${l})`:"(anonymous)")})).reverse()}function importFromSafari(u){u.version;const{recording:r}=u,{sampleStackTraces:o,sampleDurations:l}=r,e=o.length;if(e<1)return null;const t=o[e-1].timestamp-o[0].timestamp+l[0],i=new StackListProfileBuilder(t);let n=Number.MAX_VALUE;return o.forEach((f,d)=>{const c=f.timestamp,p=l[d],g=c-p-n;g>.002&&i.appendSampleWithWeight([],g),i.appendSampleWithWeight(makeStack(f.stackFrames),p),n=c}),i.setValueFormatter(new TimeFormatter("seconds")),i.setName(r.displayName),i.build()}var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=u;function u(r,o){for(var l=new Array(arguments.length-1),e=0,t=2,i=!0;t<arguments.length;)l[e++]=arguments[t++];return new Promise(function(f,d){l[e]=function(p){if(i)if(i=!1,p)d(p);else{for(var y=new Array(arguments.length-1),g=0;g<y.length;)y[g++]=arguments[g];f.apply(null,y)}};try{r.apply(o||null,l)}catch(c){i&&(i=!1,d(c))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(u){var r=u;r.length=function(n){var f=n.length;if(!f)return 0;for(var d=0;--f%4>1&&n.charAt(f)==="=";)++d;return Math.ceil(n.length*3)/4-d};for(var o=new Array(64),l=new Array(123),e=0;e<64;)l[o[e]=e<26?e+65:e<52?e+71:e<62?e-4:e-59|43]=e++;r.encode=function(n,f,d){for(var c=null,p=[],y=0,g=0,_;f<d;){var S=n[f++];switch(g){case 0:p[y++]=o[S>>2],_=(S&3)<<4,g=1;break;case 1:p[y++]=o[_|S>>4],_=(S&15)<<2,g=2;break;case 2:p[y++]=o[_|S>>6],p[y++]=o[S&63],g=0;break}y>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,p)),y=0)}return g&&(p[y++]=o[_],p[y++]=61,g===1&&(p[y++]=61)),c?(y&&c.push(String.fromCharCode.apply(String,p.slice(0,y))),c.join("")):String.fromCharCode.apply(String,p.slice(0,y))};var t="invalid encoding";r.decode=function(n,f,d){for(var c=d,p=0,y,g=0;g<n.length;){var _=n.charCodeAt(g++);if(_===61&&p>1)break;if((_=l[_])===void 0)throw Error(t);switch(p){case 0:y=_,p=1;break;case 1:f[d++]=y<<2|(_&48)>>4,y=_,p=2;break;case 2:f[d++]=(y&15)<<4|(_&60)>>2,y=_,p=3;break;case 3:f[d++]=(y&3)<<6|_,p=0;break}}if(p===1)throw Error(t);return d-c},r.test=function(n){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(n)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=u;function u(){this._listeners={}}return u.prototype.on=function(o,l,e){return(this._listeners[o]||(this._listeners[o]=[])).push({fn:l,ctx:e||this}),this},u.prototype.off=function(o,l){if(o===void 0)this._listeners={};else if(l===void 0)this._listeners[o]=[];else for(var e=this._listeners[o],t=0;t<e.length;)e[t].fn===l?e.splice(t,1):++t;return this},u.prototype.emit=function(o){var l=this._listeners[o];if(l){for(var e=[],t=1;t<arguments.length;)e.push(arguments[t++]);for(t=0;t<l.length;)l[t].fn.apply(l[t++].ctx,e)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=u(u);function u(t){return typeof Float32Array<"u"?function(){var i=new Float32Array([-0]),n=new Uint8Array(i.buffer),f=n[3]===128;function d(g,_,S){i[0]=g,_[S]=n[0],_[S+1]=n[1],_[S+2]=n[2],_[S+3]=n[3]}function c(g,_,S){i[0]=g,_[S]=n[3],_[S+1]=n[2],_[S+2]=n[1],_[S+3]=n[0]}t.writeFloatLE=f?d:c,t.writeFloatBE=f?c:d;function p(g,_){return n[0]=g[_],n[1]=g[_+1],n[2]=g[_+2],n[3]=g[_+3],i[0]}function y(g,_){return n[3]=g[_],n[2]=g[_+1],n[1]=g[_+2],n[0]=g[_+3],i[0]}t.readFloatLE=f?p:y,t.readFloatBE=f?y:p}():function(){function i(f,d,c,p){var y=d<0?1:0;if(y&&(d=-d),d===0)f(1/d>0?0:2147483648,c,p);else if(isNaN(d))f(2143289344,c,p);else if(d>34028234663852886e22)f((y<<31|2139095040)>>>0,c,p);else if(d<11754943508222875e-54)f((y<<31|Math.round(d/1401298464324817e-60))>>>0,c,p);else{var g=Math.floor(Math.log(d)/Math.LN2),_=Math.round(d*Math.pow(2,-g)*8388608)&8388607;f((y<<31|g+127<<23|_)>>>0,c,p)}}t.writeFloatLE=i.bind(null,r),t.writeFloatBE=i.bind(null,o);function n(f,d,c){var p=f(d,c),y=(p>>31)*2+1,g=p>>>23&255,_=p&8388607;return g===255?_?NaN:y*(1/0):g===0?y*1401298464324817e-60*_:y*Math.pow(2,g-150)*(_+8388608)}t.readFloatLE=n.bind(null,l),t.readFloatBE=n.bind(null,e)}(),typeof Float64Array<"u"?function(){var i=new Float64Array([-0]),n=new Uint8Array(i.buffer),f=n[7]===128;function d(g,_,S){i[0]=g,_[S]=n[0],_[S+1]=n[1],_[S+2]=n[2],_[S+3]=n[3],_[S+4]=n[4],_[S+5]=n[5],_[S+6]=n[6],_[S+7]=n[7]}function c(g,_,S){i[0]=g,_[S]=n[7],_[S+1]=n[6],_[S+2]=n[5],_[S+3]=n[4],_[S+4]=n[3],_[S+5]=n[2],_[S+6]=n[1],_[S+7]=n[0]}t.writeDoubleLE=f?d:c,t.writeDoubleBE=f?c:d;function p(g,_){return n[0]=g[_],n[1]=g[_+1],n[2]=g[_+2],n[3]=g[_+3],n[4]=g[_+4],n[5]=g[_+5],n[6]=g[_+6],n[7]=g[_+7],i[0]}function y(g,_){return n[7]=g[_],n[6]=g[_+1],n[5]=g[_+2],n[4]=g[_+3],n[3]=g[_+4],n[2]=g[_+5],n[1]=g[_+6],n[0]=g[_+7],i[0]}t.readDoubleLE=f?p:y,t.readDoubleBE=f?y:p}():function(){function i(f,d,c,p,y,g){var _=p<0?1:0;if(_&&(p=-p),p===0)f(0,y,g+d),f(1/p>0?0:2147483648,y,g+c);else if(isNaN(p))f(0,y,g+d),f(2146959360,y,g+c);else if(p>17976931348623157e292)f(0,y,g+d),f((_<<31|2146435072)>>>0,y,g+c);else{var S;if(p<22250738585072014e-324)S=p/5e-324,f(S>>>0,y,g+d),f((_<<31|S/4294967296)>>>0,y,g+c);else{var k=Math.floor(Math.log(p)/Math.LN2);k===1024&&(k=1023),S=p*Math.pow(2,-k),f(S*4503599627370496>>>0,y,g+d),f((_<<31|k+1023<<20|S*1048576&1048575)>>>0,y,g+c)}}}t.writeDoubleLE=i.bind(null,r,0,4),t.writeDoubleBE=i.bind(null,o,4,0);function n(f,d,c,p,y){var g=f(p,y+d),_=f(p,y+c),S=(_>>31)*2+1,k=_>>>20&2047,N=4294967296*(_&1048575)+g;return k===2047?N?NaN:S*(1/0):k===0?S*5e-324*N:S*Math.pow(2,k-1075)*(N+4503599627370496)}t.readDoubleLE=n.bind(null,l,0,4),t.readDoubleBE=n.bind(null,e,4,0)}(),t}function r(t,i,n){i[n]=t&255,i[n+1]=t>>>8&255,i[n+2]=t>>>16&255,i[n+3]=t>>>24}function o(t,i,n){i[n]=t>>>24,i[n+1]=t>>>16&255,i[n+2]=t>>>8&255,i[n+3]=t&255}function l(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0}function e(t,i){return(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(u){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(u){var r=u;r.length=function(l){for(var e=0,t=0,i=0;i<l.length;++i)t=l.charCodeAt(i),t<128?e+=1:t<2048?e+=2:(t&64512)===55296&&(l.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e},r.read=function(l,e,t){var i=t-e;if(i<1)return"";for(var n=null,f=[],d=0,c;e<t;)c=l[e++],c<128?f[d++]=c:c>191&&c<224?f[d++]=(c&31)<<6|l[e++]&63:c>239&&c<365?(c=((c&7)<<18|(l[e++]&63)<<12|(l[e++]&63)<<6|l[e++]&63)-65536,f[d++]=55296+(c>>10),f[d++]=56320+(c&1023)):f[d++]=(c&15)<<12|(l[e++]&63)<<6|l[e++]&63,d>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,f)),d=0);return n?(d&&n.push(String.fromCharCode.apply(String,f.slice(0,d))),n.join("")):String.fromCharCode.apply(String,f.slice(0,d))},r.write=function(l,e,t){for(var i=t,n,f,d=0;d<l.length;++d)n=l.charCodeAt(d),n<128?e[t++]=n:n<2048?(e[t++]=n>>6|192,e[t++]=n&63|128):(n&64512)===55296&&((f=l.charCodeAt(d+1))&64512)===56320?(n=65536+((n&1023)<<10)+(f&1023),++d,e[t++]=n>>18|240,e[t++]=n>>12&63|128,e[t++]=n>>6&63|128,e[t++]=n&63|128):(e[t++]=n>>12|224,e[t++]=n>>6&63|128,e[t++]=n&63|128);return t-i}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=u;function u(r,o,l){var e=l||8192,t=e>>>1,i=null,n=e;return function(d){if(d<1||d>t)return r(d);n+d>e&&(i=r(e),n=0);var c=o.call(i,n,n+=d);return n&7&&(n=(n|7)+1),c}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=r;var u=requireMinimal$1();function r(t,i){this.lo=t>>>0,this.hi=i>>>0}var o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var l=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(i){if(i===0)return o;var n=i<0;n&&(i=-i);var f=i>>>0,d=(i-f)/4294967296>>>0;return n&&(d=~d>>>0,f=~f>>>0,++f>4294967295&&(f=0,++d>4294967295&&(d=0))),new r(f,d)},r.from=function(i){if(typeof i=="number")return r.fromNumber(i);if(u.isString(i))if(u.Long)i=u.Long.fromString(i);else return r.fromNumber(parseInt(i,10));return i.low||i.high?new r(i.low>>>0,i.high>>>0):o},r.prototype.toNumber=function(i){if(!i&&this.hi>>>31){var n=~this.lo+1>>>0,f=~this.hi>>>0;return n||(f=f+1>>>0),-(n+f*4294967296)}return this.lo+this.hi*4294967296},r.prototype.toLong=function(i){return u.Long?new u.Long(this.lo|0,this.hi|0,!!i):{low:this.lo|0,high:this.hi|0,unsigned:!!i}};var e=String.prototype.charCodeAt;return r.fromHash=function(i){return i===l?o:new r((e.call(i,0)|e.call(i,1)<<8|e.call(i,2)<<16|e.call(i,3)<<24)>>>0,(e.call(i,4)|e.call(i,5)<<8|e.call(i,6)<<16|e.call(i,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var i=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^i)>>>0,this.lo=(this.lo<<1^i)>>>0,this},r.prototype.zzDecode=function(){var i=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this},r.prototype.length=function(){var i=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,f=this.hi>>>24;return f===0?n===0?i<16384?i<128?1:2:i<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:f<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(u){var r=u;r.asPromise=requireAspromise(),r.base64=requireBase64(),r.EventEmitter=requireEventemitter(),r.float=requireFloat(),r.inquire=requireInquire(),r.utf8=requireUtf8(),r.pool=requirePool(),r.LongBits=requireLongbits(),r.global=typeof window<"u"&&window||typeof commonjsGlobal<"u"&&commonjsGlobal||typeof self<"u"&&self||minimal$1,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=!!(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return typeof t=="string"||t instanceof String},r.isObject=function(t){return t&&typeof t=="object"},r.isset=r.isSet=function(t,i){var n=t[i];return n!=null&&t.hasOwnProperty(i)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return typeof t=="number"?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)},r.Array=typeof Uint8Array<"u"?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,i){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,i):n.toNumber(!!i)};function o(e,t,i){for(var n=Object.keys(t),f=0;f<n.length;++f)(e[n[f]]===void 0||!i)&&(e[n[f]]=t[n[f]]);return e}r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function l(e){function t(i,n){if(!(this instanceof t))return new t(i,n);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.newError=l,r.ProtocolError=l("ProtocolError"),r.oneOfGetter=function(t){for(var i={},n=0;n<t.length;++n)i[t[n]]=1;return function(){for(var f=Object.keys(this),d=f.length-1;d>-1;--d)if(i[f[d]]===1&&this[f[d]]!==void 0&&this[f[d]]!==null)return f[d]}},r.oneOfSetter=function(t){return function(i){for(var n=0;n<t.length;++n)t[n]!==i&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;if(!e){r._Buffer_from=r._Buffer_allocUnsafe=null;return}r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(i,n){return new e(i,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(i){return new e(i)}}}(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=f;var u=requireMinimal$1(),r,o=u.LongBits,l=u.base64,e=u.utf8;function t(S,k,N){this.fn=S,this.len=k,this.next=void 0,this.val=N}function i(){}function n(S){this.head=S.head,this.tail=S.tail,this.len=S.len,this.next=S.states}function f(){this.len=0,this.head=new t(i,0,0),this.tail=this.head,this.states=null}f.create=u.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f},f.alloc=function(k){return new u.Array(k)},u.Array!==Array&&(f.alloc=u.pool(f.alloc,u.Array.prototype.subarray)),f.prototype._push=function(k,N,x){return this.tail=this.tail.next=new t(k,N,x),this.len+=N,this};function d(S,k,N){k[N]=S&255}function c(S,k,N){for(;S>127;)k[N++]=S&127|128,S>>>=7;k[N]=S}function p(S,k){this.len=S,this.next=void 0,this.val=k}p.prototype=Object.create(t.prototype),p.prototype.fn=c,f.prototype.uint32=function(k){return this.len+=(this.tail=this.tail.next=new p((k=k>>>0)<128?1:k<16384?2:k<2097152?3:k<268435456?4:5,k)).len,this},f.prototype.int32=function(k){return k<0?this._push(y,10,o.fromNumber(k)):this.uint32(k)},f.prototype.sint32=function(k){return this.uint32((k<<1^k>>31)>>>0)};function y(S,k,N){for(;S.hi;)k[N++]=S.lo&127|128,S.lo=(S.lo>>>7|S.hi<<25)>>>0,S.hi>>>=7;for(;S.lo>127;)k[N++]=S.lo&127|128,S.lo=S.lo>>>7;k[N++]=S.lo}f.prototype.uint64=function(k){var N=o.from(k);return this._push(y,N.length(),N)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(k){var N=o.from(k).zzEncode();return this._push(y,N.length(),N)},f.prototype.bool=function(k){return this._push(d,1,k?1:0)};function g(S,k,N){k[N]=S&255,k[N+1]=S>>>8&255,k[N+2]=S>>>16&255,k[N+3]=S>>>24}f.prototype.fixed32=function(k){return this._push(g,4,k>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(k){var N=o.from(k);return this._push(g,4,N.lo)._push(g,4,N.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(k){return this._push(u.float.writeFloatLE,4,k)},f.prototype.double=function(k){return this._push(u.float.writeDoubleLE,8,k)};var _=u.Array.prototype.set?function(k,N,x){N.set(k,x)}:function(k,N,x){for(var P=0;P<k.length;++P)N[x+P]=k[P]};return f.prototype.bytes=function(k){var N=k.length>>>0;if(!N)return this._push(d,1,0);if(u.isString(k)){var x=f.alloc(N=l.length(k));l.decode(k,x,0),k=x}return this.uint32(N)._push(_,N,k)},f.prototype.string=function(k){var N=e.length(k);return N?this.uint32(N)._push(e.write,N,k):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new n(this),this.head=this.tail=new t(i,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new t(i,0,0),this.len=0),this},f.prototype.ldelim=function(){var k=this.head,N=this.tail,x=this.len;return this.reset().uint32(x),x&&(this.tail.next=k.next,this.tail=N,this.len+=x),this},f.prototype.finish=function(){for(var k=this.head.next,N=this.constructor.alloc(this.len),x=0;k;)k.fn(k.val,N,x),x+=k.len,k=k.next;return N},f._configure=function(S){r=S},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=l;var u=requireWriter();(l.prototype=Object.create(u.prototype)).constructor=l;var r=requireMinimal$1(),o=r.Buffer;function l(){u.call(this)}l.alloc=function(n){return(l.alloc=r._Buffer_allocUnsafe)(n)};var e=o&&o.prototype instanceof Uint8Array&&o.prototype.set.name==="set"?function(n,f,d){f.set(n,d)}:function(n,f,d){if(n.copy)n.copy(f,d,0,n.length);else for(var c=0;c<n.length;)f[d++]=n[c++]};l.prototype.bytes=function(n){r.isString(n)&&(n=r._Buffer_from(n,"base64"));var f=n.length>>>0;return this.uint32(f),f&&this._push(e,f,n),this};function t(i,n,f){i.length<40?r.utf8.write(i,n,f):n.utf8Write(i,f)}return l.prototype.string=function(n){var f=o.byteLength(n);return this.uint32(f),f&&this._push(t,f,n),this},writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=t;var u=requireMinimal$1(),r,o=u.LongBits,l=u.utf8;function e(c,p){return RangeError("index out of range: "+c.pos+" + "+(p||1)+" > "+c.len)}function t(c){this.buf=c,this.pos=0,this.len=c.length}var i=typeof Uint8Array<"u"?function(p){if(p instanceof Uint8Array||Array.isArray(p))return new t(p);throw Error("illegal buffer")}:function(p){if(Array.isArray(p))return new t(p);throw Error("illegal buffer")};t.create=u.Buffer?function(p){return(t.create=function(g){return u.Buffer.isBuffer(g)?new r(g):i(g)})(p)}:i,t.prototype._slice=u.Array.prototype.subarray||u.Array.prototype.slice,t.prototype.uint32=function(){var p=4294967295;return function(){if(p=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(p=(p|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(p=(p|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(p=(p|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(p=(p|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return p;if((this.pos+=5)>this.len)throw this.pos=this.len,e(this,10);return p}}(),t.prototype.int32=function(){return this.uint32()|0},t.prototype.sint32=function(){var p=this.uint32();return p>>>1^-(p&1)|0};function n(){var c=new o(0,0),p=0;if(this.len-this.pos>4){for(;p<4;++p)if(c.lo=(c.lo|(this.buf[this.pos]&127)<<p*7)>>>0,this.buf[this.pos++]<128)return c;if(c.lo=(c.lo|(this.buf[this.pos]&127)<<28)>>>0,c.hi=(c.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return c;p=0}else{for(;p<3;++p){if(this.pos>=this.len)throw e(this);if(c.lo=(c.lo|(this.buf[this.pos]&127)<<p*7)>>>0,this.buf[this.pos++]<128)return c}return c.lo=(c.lo|(this.buf[this.pos++]&127)<<p*7)>>>0,c}if(this.len-this.pos>4){for(;p<5;++p)if(c.hi=(c.hi|(this.buf[this.pos]&127)<<p*7+3)>>>0,this.buf[this.pos++]<128)return c}else for(;p<5;++p){if(this.pos>=this.len)throw e(this);if(c.hi=(c.hi|(this.buf[this.pos]&127)<<p*7+3)>>>0,this.buf[this.pos++]<128)return c}throw Error("invalid varint encoding")}t.prototype.bool=function(){return this.uint32()!==0};function f(c,p){return(c[p-4]|c[p-3]<<8|c[p-2]<<16|c[p-1]<<24)>>>0}t.prototype.fixed32=function(){if(this.pos+4>this.len)throw e(this,4);return f(this.buf,this.pos+=4)},t.prototype.sfixed32=function(){if(this.pos+4>this.len)throw e(this,4);return f(this.buf,this.pos+=4)|0};function d(){if(this.pos+8>this.len)throw e(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}return t.prototype.float=function(){if(this.pos+4>this.len)throw e(this,4);var p=u.float.readFloatLE(this.buf,this.pos);return this.pos+=4,p},t.prototype.double=function(){if(this.pos+8>this.len)throw e(this,4);var p=u.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,p},t.prototype.bytes=function(){var p=this.uint32(),y=this.pos,g=this.pos+p;if(g>this.len)throw e(this,p);return this.pos+=p,Array.isArray(this.buf)?this.buf.slice(y,g):y===g?new this.buf.constructor(0):this._slice.call(this.buf,y,g)},t.prototype.string=function(){var p=this.bytes();return l.read(p,0,p.length)},t.prototype.skip=function(p){if(typeof p=="number"){if(this.pos+p>this.len)throw e(this,p);this.pos+=p}else do if(this.pos>=this.len)throw e(this);while(this.buf[this.pos++]&128);return this},t.prototype.skipType=function(c){switch(c){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(c=this.uint32()&7)!==4;)this.skipType(c);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+c+" at offset "+this.pos)}return this},t._configure=function(c){r=c;var p=u.Long?"toLong":"toNumber";u.merge(t.prototype,{int64:function(){return n.call(this)[p](!1)},uint64:function(){return n.call(this)[p](!0)},sint64:function(){return n.call(this).zzDecode()[p](!1)},fixed64:function(){return d.call(this)[p](!0)},sfixed64:function(){return d.call(this)[p](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=o;var u=requireReader();(o.prototype=Object.create(u.prototype)).constructor=o;var r=requireMinimal$1();function o(l){u.call(this,l)}return r.Buffer&&(o.prototype._slice=r.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))},reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=r;var u=requireMinimal$1();(r.prototype=Object.create(u.EventEmitter.prototype)).constructor=r;function r(o,l,e){if(typeof o!="function")throw TypeError("rpcImpl must be a function");u.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=!!l,this.responseDelimited=!!e}return r.prototype.rpcCall=function o(l,e,t,i,n){if(!i)throw TypeError("request must be specified");var f=this;if(!n)return u.asPromise(o,f,l,e,t,i);if(!f.rpcImpl){setTimeout(function(){n(Error("already ended"))},0);return}try{return f.rpcImpl(l,e[f.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,p){if(c)return f.emit("error",c,l),n(c);if(p===null){f.end(!0);return}if(!(p instanceof t))try{p=t[f.responseDelimited?"decodeDelimited":"decode"](p)}catch(y){return f.emit("error",y,l),n(y)}return f.emit("data",p,l),n(null,p)})}catch(d){f.emit("error",d,l),setTimeout(function(){n(d)},0);return}},r.prototype.end=function(l){return this.rpcImpl&&(l||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(u){var r=u;r.Service=requireService()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(u){var r=u;r.build="minimal",r.Writer=requireWriter(),r.BufferWriter=requireWriter_buffer(),r.Reader=requireReader(),r.BufferReader=requireReader_buffer(),r.util=requireMinimal$1(),r.rpc=requireRpc(),r.roots=requireRoots(),r.configure=o;function o(){r.Reader._configure(r.BufferReader),r.util._configure()}r.Writer._configure(r.BufferWriter),o()}(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var minimalExports=requireMinimal();const $Reader=minimalExports.Reader,$Writer=minimalExports.Writer,$util=minimalExports.util,$root=minimalExports.roots.default||(minimalExports.roots.default={}),perftools=$root.perftools=(()=>{const u={};return u.profiles=function(){const r={};return r.Profile=function(){function o(l){if(this.sampleType=[],this.sample=[],this.mapping=[],this.location=[],this.function=[],this.stringTable=[],this.comment=[],l)for(let e=Object.keys(l),t=0;t<e.length;++t)l[e[t]]!=null&&(this[e[t]]=l[e[t]])}return o.prototype.sampleType=$util.emptyArray,o.prototype.sample=$util.emptyArray,o.prototype.mapping=$util.emptyArray,o.prototype.location=$util.emptyArray,o.prototype.function=$util.emptyArray,o.prototype.stringTable=$util.emptyArray,o.prototype.dropFrames=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.keepFrames=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.timeNanos=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.durationNanos=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.periodType=null,o.prototype.period=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.comment=$util.emptyArray,o.prototype.defaultSampleType=$util.Long?$util.Long.fromBits(0,0,!1):0,o.create=function(e){return new o(e)},o.encode=function(e,t){if(t||(t=$Writer.create()),e.sampleType!=null&&e.sampleType.length)for(let i=0;i<e.sampleType.length;++i)$root.perftools.profiles.ValueType.encode(e.sampleType[i],t.uint32(10).fork()).ldelim();if(e.sample!=null&&e.sample.length)for(let i=0;i<e.sample.length;++i)$root.perftools.profiles.Sample.encode(e.sample[i],t.uint32(18).fork()).ldelim();if(e.mapping!=null&&e.mapping.length)for(let i=0;i<e.mapping.length;++i)$root.perftools.profiles.Mapping.encode(e.mapping[i],t.uint32(26).fork()).ldelim();if(e.location!=null&&e.location.length)for(let i=0;i<e.location.length;++i)$root.perftools.profiles.Location.encode(e.location[i],t.uint32(34).fork()).ldelim();if(e.function!=null&&e.function.length)for(let i=0;i<e.function.length;++i)$root.perftools.profiles.Function.encode(e.function[i],t.uint32(42).fork()).ldelim();if(e.stringTable!=null&&e.stringTable.length)for(let i=0;i<e.stringTable.length;++i)t.uint32(50).string(e.stringTable[i]);if(e.dropFrames!=null&&e.hasOwnProperty("dropFrames")&&t.uint32(56).int64(e.dropFrames),e.keepFrames!=null&&e.hasOwnProperty("keepFrames")&&t.uint32(64).int64(e.keepFrames),e.timeNanos!=null&&e.hasOwnProperty("timeNanos")&&t.uint32(72).int64(e.timeNanos),e.durationNanos!=null&&e.hasOwnProperty("durationNanos")&&t.uint32(80).int64(e.durationNanos),e.periodType!=null&&e.hasOwnProperty("periodType")&&$root.perftools.profiles.ValueType.encode(e.periodType,t.uint32(90).fork()).ldelim(),e.period!=null&&e.hasOwnProperty("period")&&t.uint32(96).int64(e.period),e.comment!=null&&e.comment.length){t.uint32(106).fork();for(let i=0;i<e.comment.length;++i)t.int64(e.comment[i]);t.ldelim()}return e.defaultSampleType!=null&&e.hasOwnProperty("defaultSampleType")&&t.uint32(112).int64(e.defaultSampleType),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let i=t===void 0?e.len:e.pos+t,n=new $root.perftools.profiles.Profile;for(;e.pos<i;){let f=e.uint32();switch(f>>>3){case 1:n.sampleType&&n.sampleType.length||(n.sampleType=[]),n.sampleType.push($root.perftools.profiles.ValueType.decode(e,e.uint32()));break;case 2:n.sample&&n.sample.length||(n.sample=[]),n.sample.push($root.perftools.profiles.Sample.decode(e,e.uint32()));break;case 3:n.mapping&&n.mapping.length||(n.mapping=[]),n.mapping.push($root.perftools.profiles.Mapping.decode(e,e.uint32()));break;case 4:n.location&&n.location.length||(n.location=[]),n.location.push($root.perftools.profiles.Location.decode(e,e.uint32()));break;case 5:n.function&&n.function.length||(n.function=[]),n.function.push($root.perftools.profiles.Function.decode(e,e.uint32()));break;case 6:n.stringTable&&n.stringTable.length||(n.stringTable=[]),n.stringTable.push(e.string());break;case 7:n.dropFrames=e.int64();break;case 8:n.keepFrames=e.int64();break;case 9:n.timeNanos=e.int64();break;case 10:n.durationNanos=e.int64();break;case 11:n.periodType=$root.perftools.profiles.ValueType.decode(e,e.uint32());break;case 12:n.period=e.int64();break;case 13:if(n.comment&&n.comment.length||(n.comment=[]),(f&7)===2){let d=e.uint32()+e.pos;for(;e.pos<d;)n.comment.push(e.int64())}else n.comment.push(e.int64());break;case 14:n.defaultSampleType=e.int64();break;default:e.skipType(f&7);break}}return n},o.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},o.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.sampleType!=null&&e.hasOwnProperty("sampleType")){if(!Array.isArray(e.sampleType))return"sampleType: array expected";for(let t=0;t<e.sampleType.length;++t){let i=$root.perftools.profiles.ValueType.verify(e.sampleType[t]);if(i)return"sampleType."+i}}if(e.sample!=null&&e.hasOwnProperty("sample")){if(!Array.isArray(e.sample))return"sample: array expected";for(let t=0;t<e.sample.length;++t){let i=$root.perftools.profiles.Sample.verify(e.sample[t]);if(i)return"sample."+i}}if(e.mapping!=null&&e.hasOwnProperty("mapping")){if(!Array.isArray(e.mapping))return"mapping: array expected";for(let t=0;t<e.mapping.length;++t){let i=$root.perftools.profiles.Mapping.verify(e.mapping[t]);if(i)return"mapping."+i}}if(e.location!=null&&e.hasOwnProperty("location")){if(!Array.isArray(e.location))return"location: array expected";for(let t=0;t<e.location.length;++t){let i=$root.perftools.profiles.Location.verify(e.location[t]);if(i)return"location."+i}}if(e.function!=null&&e.hasOwnProperty("function")){if(!Array.isArray(e.function))return"function: array expected";for(let t=0;t<e.function.length;++t){let i=$root.perftools.profiles.Function.verify(e.function[t]);if(i)return"function."+i}}if(e.stringTable!=null&&e.hasOwnProperty("stringTable")){if(!Array.isArray(e.stringTable))return"stringTable: array expected";for(let t=0;t<e.stringTable.length;++t)if(!$util.isString(e.stringTable[t]))return"stringTable: string[] expected"}if(e.dropFrames!=null&&e.hasOwnProperty("dropFrames")&&!$util.isInteger(e.dropFrames)&&!(e.dropFrames&&$util.isInteger(e.dropFrames.low)&&$util.isInteger(e.dropFrames.high)))return"dropFrames: integer|Long expected";if(e.keepFrames!=null&&e.hasOwnProperty("keepFrames")&&!$util.isInteger(e.keepFrames)&&!(e.keepFrames&&$util.isInteger(e.keepFrames.low)&&$util.isInteger(e.keepFrames.high)))return"keepFrames: integer|Long expected";if(e.timeNanos!=null&&e.hasOwnProperty("timeNanos")&&!$util.isInteger(e.timeNanos)&&!(e.timeNanos&&$util.isInteger(e.timeNanos.low)&&$util.isInteger(e.timeNanos.high)))return"timeNanos: integer|Long expected";if(e.durationNanos!=null&&e.hasOwnProperty("durationNanos")&&!$util.isInteger(e.durationNanos)&&!(e.durationNanos&&$util.isInteger(e.durationNanos.low)&&$util.isInteger(e.durationNanos.high)))return"durationNanos: integer|Long expected";if(e.periodType!=null&&e.hasOwnProperty("periodType")){let t=$root.perftools.profiles.ValueType.verify(e.periodType);if(t)return"periodType."+t}if(e.period!=null&&e.hasOwnProperty("period")&&!$util.isInteger(e.period)&&!(e.period&&$util.isInteger(e.period.low)&&$util.isInteger(e.period.high)))return"period: integer|Long expected";if(e.comment!=null&&e.hasOwnProperty("comment")){if(!Array.isArray(e.comment))return"comment: array expected";for(let t=0;t<e.comment.length;++t)if(!$util.isInteger(e.comment[t])&&!(e.comment[t]&&$util.isInteger(e.comment[t].low)&&$util.isInteger(e.comment[t].high)))return"comment: integer|Long[] expected"}return e.defaultSampleType!=null&&e.hasOwnProperty("defaultSampleType")&&!$util.isInteger(e.defaultSampleType)&&!(e.defaultSampleType&&$util.isInteger(e.defaultSampleType.low)&&$util.isInteger(e.defaultSampleType.high))?"defaultSampleType: integer|Long expected":null},o.fromObject=function(e){if(e instanceof $root.perftools.profiles.Profile)return e;let t=new $root.perftools.profiles.Profile;if(e.sampleType){if(!Array.isArray(e.sampleType))throw TypeError(".perftools.profiles.Profile.sampleType: array expected");t.sampleType=[];for(let i=0;i<e.sampleType.length;++i){if(typeof e.sampleType[i]!="object")throw TypeError(".perftools.profiles.Profile.sampleType: object expected");t.sampleType[i]=$root.perftools.profiles.ValueType.fromObject(e.sampleType[i])}}if(e.sample){if(!Array.isArray(e.sample))throw TypeError(".perftools.profiles.Profile.sample: array expected");t.sample=[];for(let i=0;i<e.sample.length;++i){if(typeof e.sample[i]!="object")throw TypeError(".perftools.profiles.Profile.sample: object expected");t.sample[i]=$root.perftools.profiles.Sample.fromObject(e.sample[i])}}if(e.mapping){if(!Array.isArray(e.mapping))throw TypeError(".perftools.profiles.Profile.mapping: array expected");t.mapping=[];for(let i=0;i<e.mapping.length;++i){if(typeof e.mapping[i]!="object")throw TypeError(".perftools.profiles.Profile.mapping: object expected");t.mapping[i]=$root.perftools.profiles.Mapping.fromObject(e.mapping[i])}}if(e.location){if(!Array.isArray(e.location))throw TypeError(".perftools.profiles.Profile.location: array expected");t.location=[];for(let i=0;i<e.location.length;++i){if(typeof e.location[i]!="object")throw TypeError(".perftools.profiles.Profile.location: object expected");t.location[i]=$root.perftools.profiles.Location.fromObject(e.location[i])}}if(e.function){if(!Array.isArray(e.function))throw TypeError(".perftools.profiles.Profile.function: array expected");t.function=[];for(let i=0;i<e.function.length;++i){if(typeof e.function[i]!="object")throw TypeError(".perftools.profiles.Profile.function: object expected");t.function[i]=$root.perftools.profiles.Function.fromObject(e.function[i])}}if(e.stringTable){if(!Array.isArray(e.stringTable))throw TypeError(".perftools.profiles.Profile.stringTable: array expected");t.stringTable=[];for(let i=0;i<e.stringTable.length;++i)t.stringTable[i]=String(e.stringTable[i])}if(e.dropFrames!=null&&($util.Long?(t.dropFrames=$util.Long.fromValue(e.dropFrames)).unsigned=!1:typeof e.dropFrames=="string"?t.dropFrames=parseInt(e.dropFrames,10):typeof e.dropFrames=="number"?t.dropFrames=e.dropFrames:typeof e.dropFrames=="object"&&(t.dropFrames=new $util.LongBits(e.dropFrames.low>>>0,e.dropFrames.high>>>0).toNumber())),e.keepFrames!=null&&($util.Long?(t.keepFrames=$util.Long.fromValue(e.keepFrames)).unsigned=!1:typeof e.keepFrames=="string"?t.keepFrames=parseInt(e.keepFrames,10):typeof e.keepFrames=="number"?t.keepFrames=e.keepFrames:typeof e.keepFrames=="object"&&(t.keepFrames=new $util.LongBits(e.keepFrames.low>>>0,e.keepFrames.high>>>0).toNumber())),e.timeNanos!=null&&($util.Long?(t.timeNanos=$util.Long.fromValue(e.timeNanos)).unsigned=!1:typeof e.timeNanos=="string"?t.timeNanos=parseInt(e.timeNanos,10):typeof e.timeNanos=="number"?t.timeNanos=e.timeNanos:typeof e.timeNanos=="object"&&(t.timeNanos=new $util.LongBits(e.timeNanos.low>>>0,e.timeNanos.high>>>0).toNumber())),e.durationNanos!=null&&($util.Long?(t.durationNanos=$util.Long.fromValue(e.durationNanos)).unsigned=!1:typeof e.durationNanos=="string"?t.durationNanos=parseInt(e.durationNanos,10):typeof e.durationNanos=="number"?t.durationNanos=e.durationNanos:typeof e.durationNanos=="object"&&(t.durationNanos=new $util.LongBits(e.durationNanos.low>>>0,e.durationNanos.high>>>0).toNumber())),e.periodType!=null){if(typeof e.periodType!="object")throw TypeError(".perftools.profiles.Profile.periodType: object expected");t.periodType=$root.perftools.profiles.ValueType.fromObject(e.periodType)}if(e.period!=null&&($util.Long?(t.period=$util.Long.fromValue(e.period)).unsigned=!1:typeof e.period=="string"?t.period=parseInt(e.period,10):typeof e.period=="number"?t.period=e.period:typeof e.period=="object"&&(t.period=new $util.LongBits(e.period.low>>>0,e.period.high>>>0).toNumber())),e.comment){if(!Array.isArray(e.comment))throw TypeError(".perftools.profiles.Profile.comment: array expected");t.comment=[];for(let i=0;i<e.comment.length;++i)$util.Long?(t.comment[i]=$util.Long.fromValue(e.comment[i])).unsigned=!1:typeof e.comment[i]=="string"?t.comment[i]=parseInt(e.comment[i],10):typeof e.comment[i]=="number"?t.comment[i]=e.comment[i]:typeof e.comment[i]=="object"&&(t.comment[i]=new $util.LongBits(e.comment[i].low>>>0,e.comment[i].high>>>0).toNumber())}return e.defaultSampleType!=null&&($util.Long?(t.defaultSampleType=$util.Long.fromValue(e.defaultSampleType)).unsigned=!1:typeof e.defaultSampleType=="string"?t.defaultSampleType=parseInt(e.defaultSampleType,10):typeof e.defaultSampleType=="number"?t.defaultSampleType=e.defaultSampleType:typeof e.defaultSampleType=="object"&&(t.defaultSampleType=new $util.LongBits(e.defaultSampleType.low>>>0,e.defaultSampleType.high>>>0).toNumber())),t},o.toObject=function(e,t){t||(t={});let i={};if((t.arrays||t.defaults)&&(i.sampleType=[],i.sample=[],i.mapping=[],i.location=[],i.function=[],i.stringTable=[],i.comment=[]),t.defaults){if($util.Long){let n=new $util.Long(0,0,!1);i.dropFrames=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.dropFrames=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.keepFrames=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.keepFrames=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.timeNanos=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.timeNanos=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.durationNanos=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.durationNanos=t.longs===String?"0":0;if(i.periodType=null,$util.Long){let n=new $util.Long(0,0,!1);i.period=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.period=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.defaultSampleType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.defaultSampleType=t.longs===String?"0":0}if(e.sampleType&&e.sampleType.length){i.sampleType=[];for(let n=0;n<e.sampleType.length;++n)i.sampleType[n]=$root.perftools.profiles.ValueType.toObject(e.sampleType[n],t)}if(e.sample&&e.sample.length){i.sample=[];for(let n=0;n<e.sample.length;++n)i.sample[n]=$root.perftools.profiles.Sample.toObject(e.sample[n],t)}if(e.mapping&&e.mapping.length){i.mapping=[];for(let n=0;n<e.mapping.length;++n)i.mapping[n]=$root.perftools.profiles.Mapping.toObject(e.mapping[n],t)}if(e.location&&e.location.length){i.location=[];for(let n=0;n<e.location.length;++n)i.location[n]=$root.perftools.profiles.Location.toObject(e.location[n],t)}if(e.function&&e.function.length){i.function=[];for(let n=0;n<e.function.length;++n)i.function[n]=$root.perftools.profiles.Function.toObject(e.function[n],t)}if(e.stringTable&&e.stringTable.length){i.stringTable=[];for(let n=0;n<e.stringTable.length;++n)i.stringTable[n]=e.stringTable[n]}if(e.dropFrames!=null&&e.hasOwnProperty("dropFrames")&&(typeof e.dropFrames=="number"?i.dropFrames=t.longs===String?String(e.dropFrames):e.dropFrames:i.dropFrames=t.longs===String?$util.Long.prototype.toString.call(e.dropFrames):t.longs===Number?new $util.LongBits(e.dropFrames.low>>>0,e.dropFrames.high>>>0).toNumber():e.dropFrames),e.keepFrames!=null&&e.hasOwnProperty("keepFrames")&&(typeof e.keepFrames=="number"?i.keepFrames=t.longs===String?String(e.keepFrames):e.keepFrames:i.keepFrames=t.longs===String?$util.Long.prototype.toString.call(e.keepFrames):t.longs===Number?new $util.LongBits(e.keepFrames.low>>>0,e.keepFrames.high>>>0).toNumber():e.keepFrames),e.timeNanos!=null&&e.hasOwnProperty("timeNanos")&&(typeof e.timeNanos=="number"?i.timeNanos=t.longs===String?String(e.timeNanos):e.timeNanos:i.timeNanos=t.longs===String?$util.Long.prototype.toString.call(e.timeNanos):t.longs===Number?new $util.LongBits(e.timeNanos.low>>>0,e.timeNanos.high>>>0).toNumber():e.timeNanos),e.durationNanos!=null&&e.hasOwnProperty("durationNanos")&&(typeof e.durationNanos=="number"?i.durationNanos=t.longs===String?String(e.durationNanos):e.durationNanos:i.durationNanos=t.longs===String?$util.Long.prototype.toString.call(e.durationNanos):t.longs===Number?new $util.LongBits(e.durationNanos.low>>>0,e.durationNanos.high>>>0).toNumber():e.durationNanos),e.periodType!=null&&e.hasOwnProperty("periodType")&&(i.periodType=$root.perftools.profiles.ValueType.toObject(e.periodType,t)),e.period!=null&&e.hasOwnProperty("period")&&(typeof e.period=="number"?i.period=t.longs===String?String(e.period):e.period:i.period=t.longs===String?$util.Long.prototype.toString.call(e.period):t.longs===Number?new $util.LongBits(e.period.low>>>0,e.period.high>>>0).toNumber():e.period),e.comment&&e.comment.length){i.comment=[];for(let n=0;n<e.comment.length;++n)typeof e.comment[n]=="number"?i.comment[n]=t.longs===String?String(e.comment[n]):e.comment[n]:i.comment[n]=t.longs===String?$util.Long.prototype.toString.call(e.comment[n]):t.longs===Number?new $util.LongBits(e.comment[n].low>>>0,e.comment[n].high>>>0).toNumber():e.comment[n]}return e.defaultSampleType!=null&&e.hasOwnProperty("defaultSampleType")&&(typeof e.defaultSampleType=="number"?i.defaultSampleType=t.longs===String?String(e.defaultSampleType):e.defaultSampleType:i.defaultSampleType=t.longs===String?$util.Long.prototype.toString.call(e.defaultSampleType):t.longs===Number?new $util.LongBits(e.defaultSampleType.low>>>0,e.defaultSampleType.high>>>0).toNumber():e.defaultSampleType),i},o.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},o}(),r.ValueType=function(){function o(l){if(l)for(let e=Object.keys(l),t=0;t<e.length;++t)l[e[t]]!=null&&(this[e[t]]=l[e[t]])}return o.prototype.type=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.unit=$util.Long?$util.Long.fromBits(0,0,!1):0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=$Writer.create()),e.type!=null&&e.hasOwnProperty("type")&&t.uint32(8).int64(e.type),e.unit!=null&&e.hasOwnProperty("unit")&&t.uint32(16).int64(e.unit),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let i=t===void 0?e.len:e.pos+t,n=new $root.perftools.profiles.ValueType;for(;e.pos<i;){let f=e.uint32();switch(f>>>3){case 1:n.type=e.int64();break;case 2:n.unit=e.int64();break;default:e.skipType(f&7);break}}return n},o.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},o.verify=function(e){return typeof e!="object"||e===null?"object expected":e.type!=null&&e.hasOwnProperty("type")&&!$util.isInteger(e.type)&&!(e.type&&$util.isInteger(e.type.low)&&$util.isInteger(e.type.high))?"type: integer|Long expected":e.unit!=null&&e.hasOwnProperty("unit")&&!$util.isInteger(e.unit)&&!(e.unit&&$util.isInteger(e.unit.low)&&$util.isInteger(e.unit.high))?"unit: integer|Long expected":null},o.fromObject=function(e){if(e instanceof $root.perftools.profiles.ValueType)return e;let t=new $root.perftools.profiles.ValueType;return e.type!=null&&($util.Long?(t.type=$util.Long.fromValue(e.type)).unsigned=!1:typeof e.type=="string"?t.type=parseInt(e.type,10):typeof e.type=="number"?t.type=e.type:typeof e.type=="object"&&(t.type=new $util.LongBits(e.type.low>>>0,e.type.high>>>0).toNumber())),e.unit!=null&&($util.Long?(t.unit=$util.Long.fromValue(e.unit)).unsigned=!1:typeof e.unit=="string"?t.unit=parseInt(e.unit,10):typeof e.unit=="number"?t.unit=e.unit:typeof e.unit=="object"&&(t.unit=new $util.LongBits(e.unit.low>>>0,e.unit.high>>>0).toNumber())),t},o.toObject=function(e,t){t||(t={});let i={};if(t.defaults){if($util.Long){let n=new $util.Long(0,0,!1);i.type=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.type=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.unit=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.unit=t.longs===String?"0":0}return e.type!=null&&e.hasOwnProperty("type")&&(typeof e.type=="number"?i.type=t.longs===String?String(e.type):e.type:i.type=t.longs===String?$util.Long.prototype.toString.call(e.type):t.longs===Number?new $util.LongBits(e.type.low>>>0,e.type.high>>>0).toNumber():e.type),e.unit!=null&&e.hasOwnProperty("unit")&&(typeof e.unit=="number"?i.unit=t.longs===String?String(e.unit):e.unit:i.unit=t.longs===String?$util.Long.prototype.toString.call(e.unit):t.longs===Number?new $util.LongBits(e.unit.low>>>0,e.unit.high>>>0).toNumber():e.unit),i},o.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},o}(),r.Sample=function(){function o(l){if(this.locationId=[],this.value=[],this.label=[],l)for(let e=Object.keys(l),t=0;t<e.length;++t)l[e[t]]!=null&&(this[e[t]]=l[e[t]])}return o.prototype.locationId=$util.emptyArray,o.prototype.value=$util.emptyArray,o.prototype.label=$util.emptyArray,o.create=function(e){return new o(e)},o.encode=function(e,t){if(t||(t=$Writer.create()),e.locationId!=null&&e.locationId.length){t.uint32(10).fork();for(let i=0;i<e.locationId.length;++i)t.uint64(e.locationId[i]);t.ldelim()}if(e.value!=null&&e.value.length){t.uint32(18).fork();for(let i=0;i<e.value.length;++i)t.int64(e.value[i]);t.ldelim()}if(e.label!=null&&e.label.length)for(let i=0;i<e.label.length;++i)$root.perftools.profiles.Label.encode(e.label[i],t.uint32(26).fork()).ldelim();return t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let i=t===void 0?e.len:e.pos+t,n=new $root.perftools.profiles.Sample;for(;e.pos<i;){let f=e.uint32();switch(f>>>3){case 1:if(n.locationId&&n.locationId.length||(n.locationId=[]),(f&7)===2){let d=e.uint32()+e.pos;for(;e.pos<d;)n.locationId.push(e.uint64())}else n.locationId.push(e.uint64());break;case 2:if(n.value&&n.value.length||(n.value=[]),(f&7)===2){let d=e.uint32()+e.pos;for(;e.pos<d;)n.value.push(e.int64())}else n.value.push(e.int64());break;case 3:n.label&&n.label.length||(n.label=[]),n.label.push($root.perftools.profiles.Label.decode(e,e.uint32()));break;default:e.skipType(f&7);break}}return n},o.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},o.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.locationId!=null&&e.hasOwnProperty("locationId")){if(!Array.isArray(e.locationId))return"locationId: array expected";for(let t=0;t<e.locationId.length;++t)if(!$util.isInteger(e.locationId[t])&&!(e.locationId[t]&&$util.isInteger(e.locationId[t].low)&&$util.isInteger(e.locationId[t].high)))return"locationId: integer|Long[] expected"}if(e.value!=null&&e.hasOwnProperty("value")){if(!Array.isArray(e.value))return"value: array expected";for(let t=0;t<e.value.length;++t)if(!$util.isInteger(e.value[t])&&!(e.value[t]&&$util.isInteger(e.value[t].low)&&$util.isInteger(e.value[t].high)))return"value: integer|Long[] expected"}if(e.label!=null&&e.hasOwnProperty("label")){if(!Array.isArray(e.label))return"label: array expected";for(let t=0;t<e.label.length;++t){let i=$root.perftools.profiles.Label.verify(e.label[t]);if(i)return"label."+i}}return null},o.fromObject=function(e){if(e instanceof $root.perftools.profiles.Sample)return e;let t=new $root.perftools.profiles.Sample;if(e.locationId){if(!Array.isArray(e.locationId))throw TypeError(".perftools.profiles.Sample.locationId: array expected");t.locationId=[];for(let i=0;i<e.locationId.length;++i)$util.Long?(t.locationId[i]=$util.Long.fromValue(e.locationId[i])).unsigned=!0:typeof e.locationId[i]=="string"?t.locationId[i]=parseInt(e.locationId[i],10):typeof e.locationId[i]=="number"?t.locationId[i]=e.locationId[i]:typeof e.locationId[i]=="object"&&(t.locationId[i]=new $util.LongBits(e.locationId[i].low>>>0,e.locationId[i].high>>>0).toNumber(!0))}if(e.value){if(!Array.isArray(e.value))throw TypeError(".perftools.profiles.Sample.value: array expected");t.value=[];for(let i=0;i<e.value.length;++i)$util.Long?(t.value[i]=$util.Long.fromValue(e.value[i])).unsigned=!1:typeof e.value[i]=="string"?t.value[i]=parseInt(e.value[i],10):typeof e.value[i]=="number"?t.value[i]=e.value[i]:typeof e.value[i]=="object"&&(t.value[i]=new $util.LongBits(e.value[i].low>>>0,e.value[i].high>>>0).toNumber())}if(e.label){if(!Array.isArray(e.label))throw TypeError(".perftools.profiles.Sample.label: array expected");t.label=[];for(let i=0;i<e.label.length;++i){if(typeof e.label[i]!="object")throw TypeError(".perftools.profiles.Sample.label: object expected");t.label[i]=$root.perftools.profiles.Label.fromObject(e.label[i])}}return t},o.toObject=function(e,t){t||(t={});let i={};if((t.arrays||t.defaults)&&(i.locationId=[],i.value=[],i.label=[]),e.locationId&&e.locationId.length){i.locationId=[];for(let n=0;n<e.locationId.length;++n)typeof e.locationId[n]=="number"?i.locationId[n]=t.longs===String?String(e.locationId[n]):e.locationId[n]:i.locationId[n]=t.longs===String?$util.Long.prototype.toString.call(e.locationId[n]):t.longs===Number?new $util.LongBits(e.locationId[n].low>>>0,e.locationId[n].high>>>0).toNumber(!0):e.locationId[n]}if(e.value&&e.value.length){i.value=[];for(let n=0;n<e.value.length;++n)typeof e.value[n]=="number"?i.value[n]=t.longs===String?String(e.value[n]):e.value[n]:i.value[n]=t.longs===String?$util.Long.prototype.toString.call(e.value[n]):t.longs===Number?new $util.LongBits(e.value[n].low>>>0,e.value[n].high>>>0).toNumber():e.value[n]}if(e.label&&e.label.length){i.label=[];for(let n=0;n<e.label.length;++n)i.label[n]=$root.perftools.profiles.Label.toObject(e.label[n],t)}return i},o.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},o}(),r.Label=function(){function o(l){if(l)for(let e=Object.keys(l),t=0;t<e.length;++t)l[e[t]]!=null&&(this[e[t]]=l[e[t]])}return o.prototype.key=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.str=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.num=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.numUnit=$util.Long?$util.Long.fromBits(0,0,!1):0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=$Writer.create()),e.key!=null&&e.hasOwnProperty("key")&&t.uint32(8).int64(e.key),e.str!=null&&e.hasOwnProperty("str")&&t.uint32(16).int64(e.str),e.num!=null&&e.hasOwnProperty("num")&&t.uint32(24).int64(e.num),e.numUnit!=null&&e.hasOwnProperty("numUnit")&&t.uint32(32).int64(e.numUnit),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let i=t===void 0?e.len:e.pos+t,n=new $root.perftools.profiles.Label;for(;e.pos<i;){let f=e.uint32();switch(f>>>3){case 1:n.key=e.int64();break;case 2:n.str=e.int64();break;case 3:n.num=e.int64();break;case 4:n.numUnit=e.int64();break;default:e.skipType(f&7);break}}return n},o.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},o.verify=function(e){return typeof e!="object"||e===null?"object expected":e.key!=null&&e.hasOwnProperty("key")&&!$util.isInteger(e.key)&&!(e.key&&$util.isInteger(e.key.low)&&$util.isInteger(e.key.high))?"key: integer|Long expected":e.str!=null&&e.hasOwnProperty("str")&&!$util.isInteger(e.str)&&!(e.str&&$util.isInteger(e.str.low)&&$util.isInteger(e.str.high))?"str: integer|Long expected":e.num!=null&&e.hasOwnProperty("num")&&!$util.isInteger(e.num)&&!(e.num&&$util.isInteger(e.num.low)&&$util.isInteger(e.num.high))?"num: integer|Long expected":e.numUnit!=null&&e.hasOwnProperty("numUnit")&&!$util.isInteger(e.numUnit)&&!(e.numUnit&&$util.isInteger(e.numUnit.low)&&$util.isInteger(e.numUnit.high))?"numUnit: integer|Long expected":null},o.fromObject=function(e){if(e instanceof $root.perftools.profiles.Label)return e;let t=new $root.perftools.profiles.Label;return e.key!=null&&($util.Long?(t.key=$util.Long.fromValue(e.key)).unsigned=!1:typeof e.key=="string"?t.key=parseInt(e.key,10):typeof e.key=="number"?t.key=e.key:typeof e.key=="object"&&(t.key=new $util.LongBits(e.key.low>>>0,e.key.high>>>0).toNumber())),e.str!=null&&($util.Long?(t.str=$util.Long.fromValue(e.str)).unsigned=!1:typeof e.str=="string"?t.str=parseInt(e.str,10):typeof e.str=="number"?t.str=e.str:typeof e.str=="object"&&(t.str=new $util.LongBits(e.str.low>>>0,e.str.high>>>0).toNumber())),e.num!=null&&($util.Long?(t.num=$util.Long.fromValue(e.num)).unsigned=!1:typeof e.num=="string"?t.num=parseInt(e.num,10):typeof e.num=="number"?t.num=e.num:typeof e.num=="object"&&(t.num=new $util.LongBits(e.num.low>>>0,e.num.high>>>0).toNumber())),e.numUnit!=null&&($util.Long?(t.numUnit=$util.Long.fromValue(e.numUnit)).unsigned=!1:typeof e.numUnit=="string"?t.numUnit=parseInt(e.numUnit,10):typeof e.numUnit=="number"?t.numUnit=e.numUnit:typeof e.numUnit=="object"&&(t.numUnit=new $util.LongBits(e.numUnit.low>>>0,e.numUnit.high>>>0).toNumber())),t},o.toObject=function(e,t){t||(t={});let i={};if(t.defaults){if($util.Long){let n=new $util.Long(0,0,!1);i.key=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.key=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.str=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.str=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.num=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.num=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.numUnit=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.numUnit=t.longs===String?"0":0}return e.key!=null&&e.hasOwnProperty("key")&&(typeof e.key=="number"?i.key=t.longs===String?String(e.key):e.key:i.key=t.longs===String?$util.Long.prototype.toString.call(e.key):t.longs===Number?new $util.LongBits(e.key.low>>>0,e.key.high>>>0).toNumber():e.key),e.str!=null&&e.hasOwnProperty("str")&&(typeof e.str=="number"?i.str=t.longs===String?String(e.str):e.str:i.str=t.longs===String?$util.Long.prototype.toString.call(e.str):t.longs===Number?new $util.LongBits(e.str.low>>>0,e.str.high>>>0).toNumber():e.str),e.num!=null&&e.hasOwnProperty("num")&&(typeof e.num=="number"?i.num=t.longs===String?String(e.num):e.num:i.num=t.longs===String?$util.Long.prototype.toString.call(e.num):t.longs===Number?new $util.LongBits(e.num.low>>>0,e.num.high>>>0).toNumber():e.num),e.numUnit!=null&&e.hasOwnProperty("numUnit")&&(typeof e.numUnit=="number"?i.numUnit=t.longs===String?String(e.numUnit):e.numUnit:i.numUnit=t.longs===String?$util.Long.prototype.toString.call(e.numUnit):t.longs===Number?new $util.LongBits(e.numUnit.low>>>0,e.numUnit.high>>>0).toNumber():e.numUnit),i},o.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},o}(),r.Mapping=function(){function o(l){if(l)for(let e=Object.keys(l),t=0;t<e.length;++t)l[e[t]]!=null&&(this[e[t]]=l[e[t]])}return o.prototype.id=$util.Long?$util.Long.fromBits(0,0,!0):0,o.prototype.memoryStart=$util.Long?$util.Long.fromBits(0,0,!0):0,o.prototype.memoryLimit=$util.Long?$util.Long.fromBits(0,0,!0):0,o.prototype.fileOffset=$util.Long?$util.Long.fromBits(0,0,!0):0,o.prototype.filename=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.buildId=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.hasFunctions=!1,o.prototype.hasFilenames=!1,o.prototype.hasLineNumbers=!1,o.prototype.hasInlineFrames=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=$Writer.create()),e.id!=null&&e.hasOwnProperty("id")&&t.uint32(8).uint64(e.id),e.memoryStart!=null&&e.hasOwnProperty("memoryStart")&&t.uint32(16).uint64(e.memoryStart),e.memoryLimit!=null&&e.hasOwnProperty("memoryLimit")&&t.uint32(24).uint64(e.memoryLimit),e.fileOffset!=null&&e.hasOwnProperty("fileOffset")&&t.uint32(32).uint64(e.fileOffset),e.filename!=null&&e.hasOwnProperty("filename")&&t.uint32(40).int64(e.filename),e.buildId!=null&&e.hasOwnProperty("buildId")&&t.uint32(48).int64(e.buildId),e.hasFunctions!=null&&e.hasOwnProperty("hasFunctions")&&t.uint32(56).bool(e.hasFunctions),e.hasFilenames!=null&&e.hasOwnProperty("hasFilenames")&&t.uint32(64).bool(e.hasFilenames),e.hasLineNumbers!=null&&e.hasOwnProperty("hasLineNumbers")&&t.uint32(72).bool(e.hasLineNumbers),e.hasInlineFrames!=null&&e.hasOwnProperty("hasInlineFrames")&&t.uint32(80).bool(e.hasInlineFrames),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let i=t===void 0?e.len:e.pos+t,n=new $root.perftools.profiles.Mapping;for(;e.pos<i;){let f=e.uint32();switch(f>>>3){case 1:n.id=e.uint64();break;case 2:n.memoryStart=e.uint64();break;case 3:n.memoryLimit=e.uint64();break;case 4:n.fileOffset=e.uint64();break;case 5:n.filename=e.int64();break;case 6:n.buildId=e.int64();break;case 7:n.hasFunctions=e.bool();break;case 8:n.hasFilenames=e.bool();break;case 9:n.hasLineNumbers=e.bool();break;case 10:n.hasInlineFrames=e.bool();break;default:e.skipType(f&7);break}}return n},o.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},o.verify=function(e){return typeof e!="object"||e===null?"object expected":e.id!=null&&e.hasOwnProperty("id")&&!$util.isInteger(e.id)&&!(e.id&&$util.isInteger(e.id.low)&&$util.isInteger(e.id.high))?"id: integer|Long expected":e.memoryStart!=null&&e.hasOwnProperty("memoryStart")&&!$util.isInteger(e.memoryStart)&&!(e.memoryStart&&$util.isInteger(e.memoryStart.low)&&$util.isInteger(e.memoryStart.high))?"memoryStart: integer|Long expected":e.memoryLimit!=null&&e.hasOwnProperty("memoryLimit")&&!$util.isInteger(e.memoryLimit)&&!(e.memoryLimit&&$util.isInteger(e.memoryLimit.low)&&$util.isInteger(e.memoryLimit.high))?"memoryLimit: integer|Long expected":e.fileOffset!=null&&e.hasOwnProperty("fileOffset")&&!$util.isInteger(e.fileOffset)&&!(e.fileOffset&&$util.isInteger(e.fileOffset.low)&&$util.isInteger(e.fileOffset.high))?"fileOffset: integer|Long expected":e.filename!=null&&e.hasOwnProperty("filename")&&!$util.isInteger(e.filename)&&!(e.filename&&$util.isInteger(e.filename.low)&&$util.isInteger(e.filename.high))?"filename: integer|Long expected":e.buildId!=null&&e.hasOwnProperty("buildId")&&!$util.isInteger(e.buildId)&&!(e.buildId&&$util.isInteger(e.buildId.low)&&$util.isInteger(e.buildId.high))?"buildId: integer|Long expected":e.hasFunctions!=null&&e.hasOwnProperty("hasFunctions")&&typeof e.hasFunctions!="boolean"?"hasFunctions: boolean expected":e.hasFilenames!=null&&e.hasOwnProperty("hasFilenames")&&typeof e.hasFilenames!="boolean"?"hasFilenames: boolean expected":e.hasLineNumbers!=null&&e.hasOwnProperty("hasLineNumbers")&&typeof e.hasLineNumbers!="boolean"?"hasLineNumbers: boolean expected":e.hasInlineFrames!=null&&e.hasOwnProperty("hasInlineFrames")&&typeof e.hasInlineFrames!="boolean"?"hasInlineFrames: boolean expected":null},o.fromObject=function(e){if(e instanceof $root.perftools.profiles.Mapping)return e;let t=new $root.perftools.profiles.Mapping;return e.id!=null&&($util.Long?(t.id=$util.Long.fromValue(e.id)).unsigned=!0:typeof e.id=="string"?t.id=parseInt(e.id,10):typeof e.id=="number"?t.id=e.id:typeof e.id=="object"&&(t.id=new $util.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),e.memoryStart!=null&&($util.Long?(t.memoryStart=$util.Long.fromValue(e.memoryStart)).unsigned=!0:typeof e.memoryStart=="string"?t.memoryStart=parseInt(e.memoryStart,10):typeof e.memoryStart=="number"?t.memoryStart=e.memoryStart:typeof e.memoryStart=="object"&&(t.memoryStart=new $util.LongBits(e.memoryStart.low>>>0,e.memoryStart.high>>>0).toNumber(!0))),e.memoryLimit!=null&&($util.Long?(t.memoryLimit=$util.Long.fromValue(e.memoryLimit)).unsigned=!0:typeof e.memoryLimit=="string"?t.memoryLimit=parseInt(e.memoryLimit,10):typeof e.memoryLimit=="number"?t.memoryLimit=e.memoryLimit:typeof e.memoryLimit=="object"&&(t.memoryLimit=new $util.LongBits(e.memoryLimit.low>>>0,e.memoryLimit.high>>>0).toNumber(!0))),e.fileOffset!=null&&($util.Long?(t.fileOffset=$util.Long.fromValue(e.fileOffset)).unsigned=!0:typeof e.fileOffset=="string"?t.fileOffset=parseInt(e.fileOffset,10):typeof e.fileOffset=="number"?t.fileOffset=e.fileOffset:typeof e.fileOffset=="object"&&(t.fileOffset=new $util.LongBits(e.fileOffset.low>>>0,e.fileOffset.high>>>0).toNumber(!0))),e.filename!=null&&($util.Long?(t.filename=$util.Long.fromValue(e.filename)).unsigned=!1:typeof e.filename=="string"?t.filename=parseInt(e.filename,10):typeof e.filename=="number"?t.filename=e.filename:typeof e.filename=="object"&&(t.filename=new $util.LongBits(e.filename.low>>>0,e.filename.high>>>0).toNumber())),e.buildId!=null&&($util.Long?(t.buildId=$util.Long.fromValue(e.buildId)).unsigned=!1:typeof e.buildId=="string"?t.buildId=parseInt(e.buildId,10):typeof e.buildId=="number"?t.buildId=e.buildId:typeof e.buildId=="object"&&(t.buildId=new $util.LongBits(e.buildId.low>>>0,e.buildId.high>>>0).toNumber())),e.hasFunctions!=null&&(t.hasFunctions=!!e.hasFunctions),e.hasFilenames!=null&&(t.hasFilenames=!!e.hasFilenames),e.hasLineNumbers!=null&&(t.hasLineNumbers=!!e.hasLineNumbers),e.hasInlineFrames!=null&&(t.hasInlineFrames=!!e.hasInlineFrames),t},o.toObject=function(e,t){t||(t={});let i={};if(t.defaults){if($util.Long){let n=new $util.Long(0,0,!0);i.id=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.id=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!0);i.memoryStart=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.memoryStart=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!0);i.memoryLimit=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.memoryLimit=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!0);i.fileOffset=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.fileOffset=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.filename=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.filename=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.buildId=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.buildId=t.longs===String?"0":0;i.hasFunctions=!1,i.hasFilenames=!1,i.hasLineNumbers=!1,i.hasInlineFrames=!1}return e.id!=null&&e.hasOwnProperty("id")&&(typeof e.id=="number"?i.id=t.longs===String?String(e.id):e.id:i.id=t.longs===String?$util.Long.prototype.toString.call(e.id):t.longs===Number?new $util.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),e.memoryStart!=null&&e.hasOwnProperty("memoryStart")&&(typeof e.memoryStart=="number"?i.memoryStart=t.longs===String?String(e.memoryStart):e.memoryStart:i.memoryStart=t.longs===String?$util.Long.prototype.toString.call(e.memoryStart):t.longs===Number?new $util.LongBits(e.memoryStart.low>>>0,e.memoryStart.high>>>0).toNumber(!0):e.memoryStart),e.memoryLimit!=null&&e.hasOwnProperty("memoryLimit")&&(typeof e.memoryLimit=="number"?i.memoryLimit=t.longs===String?String(e.memoryLimit):e.memoryLimit:i.memoryLimit=t.longs===String?$util.Long.prototype.toString.call(e.memoryLimit):t.longs===Number?new $util.LongBits(e.memoryLimit.low>>>0,e.memoryLimit.high>>>0).toNumber(!0):e.memoryLimit),e.fileOffset!=null&&e.hasOwnProperty("fileOffset")&&(typeof e.fileOffset=="number"?i.fileOffset=t.longs===String?String(e.fileOffset):e.fileOffset:i.fileOffset=t.longs===String?$util.Long.prototype.toString.call(e.fileOffset):t.longs===Number?new $util.LongBits(e.fileOffset.low>>>0,e.fileOffset.high>>>0).toNumber(!0):e.fileOffset),e.filename!=null&&e.hasOwnProperty("filename")&&(typeof e.filename=="number"?i.filename=t.longs===String?String(e.filename):e.filename:i.filename=t.longs===String?$util.Long.prototype.toString.call(e.filename):t.longs===Number?new $util.LongBits(e.filename.low>>>0,e.filename.high>>>0).toNumber():e.filename),e.buildId!=null&&e.hasOwnProperty("buildId")&&(typeof e.buildId=="number"?i.buildId=t.longs===String?String(e.buildId):e.buildId:i.buildId=t.longs===String?$util.Long.prototype.toString.call(e.buildId):t.longs===Number?new $util.LongBits(e.buildId.low>>>0,e.buildId.high>>>0).toNumber():e.buildId),e.hasFunctions!=null&&e.hasOwnProperty("hasFunctions")&&(i.hasFunctions=e.hasFunctions),e.hasFilenames!=null&&e.hasOwnProperty("hasFilenames")&&(i.hasFilenames=e.hasFilenames),e.hasLineNumbers!=null&&e.hasOwnProperty("hasLineNumbers")&&(i.hasLineNumbers=e.hasLineNumbers),e.hasInlineFrames!=null&&e.hasOwnProperty("hasInlineFrames")&&(i.hasInlineFrames=e.hasInlineFrames),i},o.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},o}(),r.Location=function(){function o(l){if(this.line=[],l)for(let e=Object.keys(l),t=0;t<e.length;++t)l[e[t]]!=null&&(this[e[t]]=l[e[t]])}return o.prototype.id=$util.Long?$util.Long.fromBits(0,0,!0):0,o.prototype.mappingId=$util.Long?$util.Long.fromBits(0,0,!0):0,o.prototype.address=$util.Long?$util.Long.fromBits(0,0,!0):0,o.prototype.line=$util.emptyArray,o.prototype.isFolded=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){if(t||(t=$Writer.create()),e.id!=null&&e.hasOwnProperty("id")&&t.uint32(8).uint64(e.id),e.mappingId!=null&&e.hasOwnProperty("mappingId")&&t.uint32(16).uint64(e.mappingId),e.address!=null&&e.hasOwnProperty("address")&&t.uint32(24).uint64(e.address),e.line!=null&&e.line.length)for(let i=0;i<e.line.length;++i)$root.perftools.profiles.Line.encode(e.line[i],t.uint32(34).fork()).ldelim();return e.isFolded!=null&&e.hasOwnProperty("isFolded")&&t.uint32(40).bool(e.isFolded),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let i=t===void 0?e.len:e.pos+t,n=new $root.perftools.profiles.Location;for(;e.pos<i;){let f=e.uint32();switch(f>>>3){case 1:n.id=e.uint64();break;case 2:n.mappingId=e.uint64();break;case 3:n.address=e.uint64();break;case 4:n.line&&n.line.length||(n.line=[]),n.line.push($root.perftools.profiles.Line.decode(e,e.uint32()));break;case 5:n.isFolded=e.bool();break;default:e.skipType(f&7);break}}return n},o.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},o.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.id!=null&&e.hasOwnProperty("id")&&!$util.isInteger(e.id)&&!(e.id&&$util.isInteger(e.id.low)&&$util.isInteger(e.id.high)))return"id: integer|Long expected";if(e.mappingId!=null&&e.hasOwnProperty("mappingId")&&!$util.isInteger(e.mappingId)&&!(e.mappingId&&$util.isInteger(e.mappingId.low)&&$util.isInteger(e.mappingId.high)))return"mappingId: integer|Long expected";if(e.address!=null&&e.hasOwnProperty("address")&&!$util.isInteger(e.address)&&!(e.address&&$util.isInteger(e.address.low)&&$util.isInteger(e.address.high)))return"address: integer|Long expected";if(e.line!=null&&e.hasOwnProperty("line")){if(!Array.isArray(e.line))return"line: array expected";for(let t=0;t<e.line.length;++t){let i=$root.perftools.profiles.Line.verify(e.line[t]);if(i)return"line."+i}}return e.isFolded!=null&&e.hasOwnProperty("isFolded")&&typeof e.isFolded!="boolean"?"isFolded: boolean expected":null},o.fromObject=function(e){if(e instanceof $root.perftools.profiles.Location)return e;let t=new $root.perftools.profiles.Location;if(e.id!=null&&($util.Long?(t.id=$util.Long.fromValue(e.id)).unsigned=!0:typeof e.id=="string"?t.id=parseInt(e.id,10):typeof e.id=="number"?t.id=e.id:typeof e.id=="object"&&(t.id=new $util.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),e.mappingId!=null&&($util.Long?(t.mappingId=$util.Long.fromValue(e.mappingId)).unsigned=!0:typeof e.mappingId=="string"?t.mappingId=parseInt(e.mappingId,10):typeof e.mappingId=="number"?t.mappingId=e.mappingId:typeof e.mappingId=="object"&&(t.mappingId=new $util.LongBits(e.mappingId.low>>>0,e.mappingId.high>>>0).toNumber(!0))),e.address!=null&&($util.Long?(t.address=$util.Long.fromValue(e.address)).unsigned=!0:typeof e.address=="string"?t.address=parseInt(e.address,10):typeof e.address=="number"?t.address=e.address:typeof e.address=="object"&&(t.address=new $util.LongBits(e.address.low>>>0,e.address.high>>>0).toNumber(!0))),e.line){if(!Array.isArray(e.line))throw TypeError(".perftools.profiles.Location.line: array expected");t.line=[];for(let i=0;i<e.line.length;++i){if(typeof e.line[i]!="object")throw TypeError(".perftools.profiles.Location.line: object expected");t.line[i]=$root.perftools.profiles.Line.fromObject(e.line[i])}}return e.isFolded!=null&&(t.isFolded=!!e.isFolded),t},o.toObject=function(e,t){t||(t={});let i={};if((t.arrays||t.defaults)&&(i.line=[]),t.defaults){if($util.Long){let n=new $util.Long(0,0,!0);i.id=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.id=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!0);i.mappingId=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.mappingId=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!0);i.address=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.address=t.longs===String?"0":0;i.isFolded=!1}if(e.id!=null&&e.hasOwnProperty("id")&&(typeof e.id=="number"?i.id=t.longs===String?String(e.id):e.id:i.id=t.longs===String?$util.Long.prototype.toString.call(e.id):t.longs===Number?new $util.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),e.mappingId!=null&&e.hasOwnProperty("mappingId")&&(typeof e.mappingId=="number"?i.mappingId=t.longs===String?String(e.mappingId):e.mappingId:i.mappingId=t.longs===String?$util.Long.prototype.toString.call(e.mappingId):t.longs===Number?new $util.LongBits(e.mappingId.low>>>0,e.mappingId.high>>>0).toNumber(!0):e.mappingId),e.address!=null&&e.hasOwnProperty("address")&&(typeof e.address=="number"?i.address=t.longs===String?String(e.address):e.address:i.address=t.longs===String?$util.Long.prototype.toString.call(e.address):t.longs===Number?new $util.LongBits(e.address.low>>>0,e.address.high>>>0).toNumber(!0):e.address),e.line&&e.line.length){i.line=[];for(let n=0;n<e.line.length;++n)i.line[n]=$root.perftools.profiles.Line.toObject(e.line[n],t)}return e.isFolded!=null&&e.hasOwnProperty("isFolded")&&(i.isFolded=e.isFolded),i},o.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},o}(),r.Line=function(){function o(l){if(l)for(let e=Object.keys(l),t=0;t<e.length;++t)l[e[t]]!=null&&(this[e[t]]=l[e[t]])}return o.prototype.functionId=$util.Long?$util.Long.fromBits(0,0,!0):0,o.prototype.line=$util.Long?$util.Long.fromBits(0,0,!1):0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=$Writer.create()),e.functionId!=null&&e.hasOwnProperty("functionId")&&t.uint32(8).uint64(e.functionId),e.line!=null&&e.hasOwnProperty("line")&&t.uint32(16).int64(e.line),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let i=t===void 0?e.len:e.pos+t,n=new $root.perftools.profiles.Line;for(;e.pos<i;){let f=e.uint32();switch(f>>>3){case 1:n.functionId=e.uint64();break;case 2:n.line=e.int64();break;default:e.skipType(f&7);break}}return n},o.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},o.verify=function(e){return typeof e!="object"||e===null?"object expected":e.functionId!=null&&e.hasOwnProperty("functionId")&&!$util.isInteger(e.functionId)&&!(e.functionId&&$util.isInteger(e.functionId.low)&&$util.isInteger(e.functionId.high))?"functionId: integer|Long expected":e.line!=null&&e.hasOwnProperty("line")&&!$util.isInteger(e.line)&&!(e.line&&$util.isInteger(e.line.low)&&$util.isInteger(e.line.high))?"line: integer|Long expected":null},o.fromObject=function(e){if(e instanceof $root.perftools.profiles.Line)return e;let t=new $root.perftools.profiles.Line;return e.functionId!=null&&($util.Long?(t.functionId=$util.Long.fromValue(e.functionId)).unsigned=!0:typeof e.functionId=="string"?t.functionId=parseInt(e.functionId,10):typeof e.functionId=="number"?t.functionId=e.functionId:typeof e.functionId=="object"&&(t.functionId=new $util.LongBits(e.functionId.low>>>0,e.functionId.high>>>0).toNumber(!0))),e.line!=null&&($util.Long?(t.line=$util.Long.fromValue(e.line)).unsigned=!1:typeof e.line=="string"?t.line=parseInt(e.line,10):typeof e.line=="number"?t.line=e.line:typeof e.line=="object"&&(t.line=new $util.LongBits(e.line.low>>>0,e.line.high>>>0).toNumber())),t},o.toObject=function(e,t){t||(t={});let i={};if(t.defaults){if($util.Long){let n=new $util.Long(0,0,!0);i.functionId=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.functionId=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.line=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.line=t.longs===String?"0":0}return e.functionId!=null&&e.hasOwnProperty("functionId")&&(typeof e.functionId=="number"?i.functionId=t.longs===String?String(e.functionId):e.functionId:i.functionId=t.longs===String?$util.Long.prototype.toString.call(e.functionId):t.longs===Number?new $util.LongBits(e.functionId.low>>>0,e.functionId.high>>>0).toNumber(!0):e.functionId),e.line!=null&&e.hasOwnProperty("line")&&(typeof e.line=="number"?i.line=t.longs===String?String(e.line):e.line:i.line=t.longs===String?$util.Long.prototype.toString.call(e.line):t.longs===Number?new $util.LongBits(e.line.low>>>0,e.line.high>>>0).toNumber():e.line),i},o.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},o}(),r.Function=function(){function o(l){if(l)for(let e=Object.keys(l),t=0;t<e.length;++t)l[e[t]]!=null&&(this[e[t]]=l[e[t]])}return o.prototype.id=$util.Long?$util.Long.fromBits(0,0,!0):0,o.prototype.name=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.systemName=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.filename=$util.Long?$util.Long.fromBits(0,0,!1):0,o.prototype.startLine=$util.Long?$util.Long.fromBits(0,0,!1):0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=$Writer.create()),e.id!=null&&e.hasOwnProperty("id")&&t.uint32(8).uint64(e.id),e.name!=null&&e.hasOwnProperty("name")&&t.uint32(16).int64(e.name),e.systemName!=null&&e.hasOwnProperty("systemName")&&t.uint32(24).int64(e.systemName),e.filename!=null&&e.hasOwnProperty("filename")&&t.uint32(32).int64(e.filename),e.startLine!=null&&e.hasOwnProperty("startLine")&&t.uint32(40).int64(e.startLine),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let i=t===void 0?e.len:e.pos+t,n=new $root.perftools.profiles.Function;for(;e.pos<i;){let f=e.uint32();switch(f>>>3){case 1:n.id=e.uint64();break;case 2:n.name=e.int64();break;case 3:n.systemName=e.int64();break;case 4:n.filename=e.int64();break;case 5:n.startLine=e.int64();break;default:e.skipType(f&7);break}}return n},o.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},o.verify=function(e){return typeof e!="object"||e===null?"object expected":e.id!=null&&e.hasOwnProperty("id")&&!$util.isInteger(e.id)&&!(e.id&&$util.isInteger(e.id.low)&&$util.isInteger(e.id.high))?"id: integer|Long expected":e.name!=null&&e.hasOwnProperty("name")&&!$util.isInteger(e.name)&&!(e.name&&$util.isInteger(e.name.low)&&$util.isInteger(e.name.high))?"name: integer|Long expected":e.systemName!=null&&e.hasOwnProperty("systemName")&&!$util.isInteger(e.systemName)&&!(e.systemName&&$util.isInteger(e.systemName.low)&&$util.isInteger(e.systemName.high))?"systemName: integer|Long expected":e.filename!=null&&e.hasOwnProperty("filename")&&!$util.isInteger(e.filename)&&!(e.filename&&$util.isInteger(e.filename.low)&&$util.isInteger(e.filename.high))?"filename: integer|Long expected":e.startLine!=null&&e.hasOwnProperty("startLine")&&!$util.isInteger(e.startLine)&&!(e.startLine&&$util.isInteger(e.startLine.low)&&$util.isInteger(e.startLine.high))?"startLine: integer|Long expected":null},o.fromObject=function(e){if(e instanceof $root.perftools.profiles.Function)return e;let t=new $root.perftools.profiles.Function;return e.id!=null&&($util.Long?(t.id=$util.Long.fromValue(e.id)).unsigned=!0:typeof e.id=="string"?t.id=parseInt(e.id,10):typeof e.id=="number"?t.id=e.id:typeof e.id=="object"&&(t.id=new $util.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),e.name!=null&&($util.Long?(t.name=$util.Long.fromValue(e.name)).unsigned=!1:typeof e.name=="string"?t.name=parseInt(e.name,10):typeof e.name=="number"?t.name=e.name:typeof e.name=="object"&&(t.name=new $util.LongBits(e.name.low>>>0,e.name.high>>>0).toNumber())),e.systemName!=null&&($util.Long?(t.systemName=$util.Long.fromValue(e.systemName)).unsigned=!1:typeof e.systemName=="string"?t.systemName=parseInt(e.systemName,10):typeof e.systemName=="number"?t.systemName=e.systemName:typeof e.systemName=="object"&&(t.systemName=new $util.LongBits(e.systemName.low>>>0,e.systemName.high>>>0).toNumber())),e.filename!=null&&($util.Long?(t.filename=$util.Long.fromValue(e.filename)).unsigned=!1:typeof e.filename=="string"?t.filename=parseInt(e.filename,10):typeof e.filename=="number"?t.filename=e.filename:typeof e.filename=="object"&&(t.filename=new $util.LongBits(e.filename.low>>>0,e.filename.high>>>0).toNumber())),e.startLine!=null&&($util.Long?(t.startLine=$util.Long.fromValue(e.startLine)).unsigned=!1:typeof e.startLine=="string"?t.startLine=parseInt(e.startLine,10):typeof e.startLine=="number"?t.startLine=e.startLine:typeof e.startLine=="object"&&(t.startLine=new $util.LongBits(e.startLine.low>>>0,e.startLine.high>>>0).toNumber())),t},o.toObject=function(e,t){t||(t={});let i={};if(t.defaults){if($util.Long){let n=new $util.Long(0,0,!0);i.id=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.id=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.name=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.name=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.systemName=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.systemName=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.filename=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.filename=t.longs===String?"0":0;if($util.Long){let n=new $util.Long(0,0,!1);i.startLine=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else i.startLine=t.longs===String?"0":0}return e.id!=null&&e.hasOwnProperty("id")&&(typeof e.id=="number"?i.id=t.longs===String?String(e.id):e.id:i.id=t.longs===String?$util.Long.prototype.toString.call(e.id):t.longs===Number?new $util.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),e.name!=null&&e.hasOwnProperty("name")&&(typeof e.name=="number"?i.name=t.longs===String?String(e.name):e.name:i.name=t.longs===String?$util.Long.prototype.toString.call(e.name):t.longs===Number?new $util.LongBits(e.name.low>>>0,e.name.high>>>0).toNumber():e.name),e.systemName!=null&&e.hasOwnProperty("systemName")&&(typeof e.systemName=="number"?i.systemName=t.longs===String?String(e.systemName):e.systemName:i.systemName=t.longs===String?$util.Long.prototype.toString.call(e.systemName):t.longs===Number?new $util.LongBits(e.systemName.low>>>0,e.systemName.high>>>0).toNumber():e.systemName),e.filename!=null&&e.hasOwnProperty("filename")&&(typeof e.filename=="number"?i.filename=t.longs===String?String(e.filename):e.filename:i.filename=t.longs===String?$util.Long.prototype.toString.call(e.filename):t.longs===Number?new $util.LongBits(e.filename.low>>>0,e.filename.high>>>0).toNumber():e.filename),e.startLine!=null&&e.hasOwnProperty("startLine")&&(typeof e.startLine=="number"?i.startLine=t.longs===String?String(e.startLine):e.startLine:i.startLine=t.longs===String?$util.Long.prototype.toString.call(e.startLine):t.longs===Number?new $util.LongBits(e.startLine.low>>>0,e.startLine.high>>>0).toNumber():e.startLine),i},o.prototype.toJSON=function(){return this.constructor.toObject(this,minimalExports.util.toJSONOptions)},o}(),r}(),u})();var long,hasRequiredLong;function requireLong(){if(hasRequiredLong)return long;hasRequiredLong=1,long=r;var u=null;try{u=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(I,w,A){this.low=I|0,this.high=w|0,this.unsigned=!!A}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0});function o(I){return(I&&I.__isLong__)===!0}r.isLong=o;var l={},e={};function t(I,w){var A,C,K;return w?(I>>>=0,(K=0<=I&&I<256)&&(C=e[I],C)?C:(A=n(I,(I|0)<0?-1:0,!0),K&&(e[I]=A),A)):(I|=0,(K=-128<=I&&I<128)&&(C=l[I],C)?C:(A=n(I,I<0?-1:0,!1),K&&(l[I]=A),A))}r.fromInt=t;function i(I,w){if(isNaN(I))return w?x:N;if(w){if(I<0)return x;if(I>=_)return D}else{if(I<=-9223372036854776e3)return G;if(I+1>=S)return Z}return I<0?i(-I,w).neg():n(I%g|0,I/g|0,w)}r.fromNumber=i;function n(I,w,A){return new r(I,w,A)}r.fromBits=n;var f=Math.pow;function d(I,w,A){if(I.length===0)throw Error("empty string");if(I==="NaN"||I==="Infinity"||I==="+Infinity"||I==="-Infinity")return N;if(typeof w=="number"?(A=w,w=!1):w=!!w,A=A||10,A<2||36<A)throw RangeError("radix");var C;if((C=I.indexOf("-"))>0)throw Error("interior hyphen");if(C===0)return d(I.substring(1),w,A).neg();for(var K=i(f(A,8)),X=N,j=0;j<I.length;j+=8){var V=Math.min(8,I.length-j),ne=parseInt(I.substring(j,j+V),A);if(V<8){var Y=i(f(A,V));X=X.mul(Y).add(i(ne))}else X=X.mul(K),X=X.add(i(ne))}return X.unsigned=w,X}r.fromString=d;function c(I,w){return typeof I=="number"?i(I,w):typeof I=="string"?d(I,w):n(I.low,I.high,typeof w=="boolean"?w:I.unsigned)}r.fromValue=c;var p=65536,y=1<<24,g=p*p,_=g*g,S=_/2,k=t(y),N=t(0);r.ZERO=N;var x=t(0,!0);r.UZERO=x;var P=t(1);r.ONE=P;var q=t(1,!0);r.UONE=q;var z=t(-1);r.NEG_ONE=z;var Z=n(-1,2147483647,!1);r.MAX_VALUE=Z;var D=n(-1,-1,!0);r.MAX_UNSIGNED_VALUE=D;var G=n(0,-2147483648,!1);r.MIN_VALUE=G;var O=r.prototype;return O.toInt=function(){return this.unsigned?this.low>>>0:this.low},O.toNumber=function(){return this.unsigned?(this.high>>>0)*g+(this.low>>>0):this.high*g+(this.low>>>0)},O.toString=function(w){if(w=w||10,w<2||36<w)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(G)){var A=i(w),C=this.div(A),K=C.mul(A).sub(this);return C.toString(w)+K.toInt().toString(w)}else return"-"+this.neg().toString(w);for(var X=i(f(w,6),this.unsigned),j=this,V="";;){var ne=j.div(X),Y=j.sub(ne.mul(X)).toInt()>>>0,re=Y.toString(w);if(j=ne,j.isZero())return re+V;for(;re.length<6;)re="0"+re;V=""+re+V}},O.getHighBits=function(){return this.high},O.getHighBitsUnsigned=function(){return this.high>>>0},O.getLowBits=function(){return this.low},O.getLowBitsUnsigned=function(){return this.low>>>0},O.getNumBitsAbs=function(){if(this.isNegative())return this.eq(G)?64:this.neg().getNumBitsAbs();for(var w=this.high!=0?this.high:this.low,A=31;A>0&&(w&1<<A)==0;A--);return this.high!=0?A+33:A+1},O.isZero=function(){return this.high===0&&this.low===0},O.eqz=O.isZero,O.isNegative=function(){return!this.unsigned&&this.high<0},O.isPositive=function(){return this.unsigned||this.high>=0},O.isOdd=function(){return(this.low&1)===1},O.isEven=function(){return(this.low&1)===0},O.equals=function(w){return o(w)||(w=c(w)),this.unsigned!==w.unsigned&&this.high>>>31===1&&w.high>>>31===1?!1:this.high===w.high&&this.low===w.low},O.eq=O.equals,O.notEquals=function(w){return!this.eq(w)},O.neq=O.notEquals,O.ne=O.notEquals,O.lessThan=function(w){return this.comp(w)<0},O.lt=O.lessThan,O.lessThanOrEqual=function(w){return this.comp(w)<=0},O.lte=O.lessThanOrEqual,O.le=O.lessThanOrEqual,O.greaterThan=function(w){return this.comp(w)>0},O.gt=O.greaterThan,O.greaterThanOrEqual=function(w){return this.comp(w)>=0},O.gte=O.greaterThanOrEqual,O.ge=O.greaterThanOrEqual,O.compare=function(w){if(o(w)||(w=c(w)),this.eq(w))return 0;var A=this.isNegative(),C=w.isNegative();return A&&!C?-1:!A&&C?1:this.unsigned?w.high>>>0>this.high>>>0||w.high===this.high&&w.low>>>0>this.low>>>0?-1:1:this.sub(w).isNegative()?-1:1},O.comp=O.compare,O.negate=function(){return!this.unsigned&&this.eq(G)?G:this.not().add(P)},O.neg=O.negate,O.add=function(w){o(w)||(w=c(w));var A=this.high>>>16,C=this.high&65535,K=this.low>>>16,X=this.low&65535,j=w.high>>>16,V=w.high&65535,ne=w.low>>>16,Y=w.low&65535,re=0,ue=0,ee=0,te=0;return te+=X+Y,ee+=te>>>16,te&=65535,ee+=K+ne,ue+=ee>>>16,ee&=65535,ue+=C+V,re+=ue>>>16,ue&=65535,re+=A+j,re&=65535,n(ee<<16|te,re<<16|ue,this.unsigned)},O.subtract=function(w){return o(w)||(w=c(w)),this.add(w.neg())},O.sub=O.subtract,O.multiply=function(w){if(this.isZero())return N;if(o(w)||(w=c(w)),u){var A=u.mul(this.low,this.high,w.low,w.high);return n(A,u.get_high(),this.unsigned)}if(w.isZero())return N;if(this.eq(G))return w.isOdd()?G:N;if(w.eq(G))return this.isOdd()?G:N;if(this.isNegative())return w.isNegative()?this.neg().mul(w.neg()):this.neg().mul(w).neg();if(w.isNegative())return this.mul(w.neg()).neg();if(this.lt(k)&&w.lt(k))return i(this.toNumber()*w.toNumber(),this.unsigned);var C=this.high>>>16,K=this.high&65535,X=this.low>>>16,j=this.low&65535,V=w.high>>>16,ne=w.high&65535,Y=w.low>>>16,re=w.low&65535,ue=0,ee=0,te=0,ce=0;return ce+=j*re,te+=ce>>>16,ce&=65535,te+=X*re,ee+=te>>>16,te&=65535,te+=j*Y,ee+=te>>>16,te&=65535,ee+=K*re,ue+=ee>>>16,ee&=65535,ee+=X*Y,ue+=ee>>>16,ee&=65535,ee+=j*ne,ue+=ee>>>16,ee&=65535,ue+=C*re+K*Y+X*ne+j*V,ue&=65535,n(te<<16|ce,ue<<16|ee,this.unsigned)},O.mul=O.multiply,O.divide=function(w){if(o(w)||(w=c(w)),w.isZero())throw Error("division by zero");if(u){if(!this.unsigned&&this.high===-2147483648&&w.low===-1&&w.high===-1)return this;var A=(this.unsigned?u.div_u:u.div_s)(this.low,this.high,w.low,w.high);return n(A,u.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?x:N;var C,K,X;if(this.unsigned){if(w.unsigned||(w=w.toUnsigned()),w.gt(this))return x;if(w.gt(this.shru(1)))return q;X=x}else{if(this.eq(G)){if(w.eq(P)||w.eq(z))return G;if(w.eq(G))return P;var j=this.shr(1);return C=j.div(w).shl(1),C.eq(N)?w.isNegative()?P:z:(K=this.sub(w.mul(C)),X=C.add(K.div(w)),X)}else if(w.eq(G))return this.unsigned?x:N;if(this.isNegative())return w.isNegative()?this.neg().div(w.neg()):this.neg().div(w).neg();if(w.isNegative())return this.div(w.neg()).neg();X=N}for(K=this;K.gte(w);){C=Math.max(1,Math.floor(K.toNumber()/w.toNumber()));for(var V=Math.ceil(Math.log(C)/Math.LN2),ne=V<=48?1:f(2,V-48),Y=i(C),re=Y.mul(w);re.isNegative()||re.gt(K);)C-=ne,Y=i(C,this.unsigned),re=Y.mul(w);Y.isZero()&&(Y=P),X=X.add(Y),K=K.sub(re)}return X},O.div=O.divide,O.modulo=function(w){if(o(w)||(w=c(w)),u){var A=(this.unsigned?u.rem_u:u.rem_s)(this.low,this.high,w.low,w.high);return n(A,u.get_high(),this.unsigned)}return this.sub(this.div(w).mul(w))},O.mod=O.modulo,O.rem=O.modulo,O.not=function(){return n(~this.low,~this.high,this.unsigned)},O.and=function(w){return o(w)||(w=c(w)),n(this.low&w.low,this.high&w.high,this.unsigned)},O.or=function(w){return o(w)||(w=c(w)),n(this.low|w.low,this.high|w.high,this.unsigned)},O.xor=function(w){return o(w)||(w=c(w)),n(this.low^w.low,this.high^w.high,this.unsigned)},O.shiftLeft=function(w){return o(w)&&(w=w.toInt()),(w&=63)===0?this:w<32?n(this.low<<w,this.high<<w|this.low>>>32-w,this.unsigned):n(0,this.low<<w-32,this.unsigned)},O.shl=O.shiftLeft,O.shiftRight=function(w){return o(w)&&(w=w.toInt()),(w&=63)===0?this:w<32?n(this.low>>>w|this.high<<32-w,this.high>>w,this.unsigned):n(this.high>>w-32,this.high>=0?0:-1,this.unsigned)},O.shr=O.shiftRight,O.shiftRightUnsigned=function(w){if(o(w)&&(w=w.toInt()),w&=63,w===0)return this;var A=this.high;if(w<32){var C=this.low;return n(C>>>w|A<<32-w,A>>>w,this.unsigned)}else return w===32?n(A,0,this.unsigned):n(A>>>w-32,0,this.unsigned)},O.shru=O.shiftRightUnsigned,O.shr_u=O.shiftRightUnsigned,O.toSigned=function(){return this.unsigned?n(this.low,this.high,!1):this},O.toUnsigned=function(){return this.unsigned?this:n(this.low,this.high,!0)},O.toBytes=function(w){return w?this.toBytesLE():this.toBytesBE()},O.toBytesLE=function(){var w=this.high,A=this.low;return[A&255,A>>>8&255,A>>>16&255,A>>>24,w&255,w>>>8&255,w>>>16&255,w>>>24]},O.toBytesBE=function(){var w=this.high,A=this.low;return[w>>>24,w>>>16&255,w>>>8&255,w&255,A>>>24,A>>>16&255,A>>>8&255,A&255]},r.fromBytes=function(w,A,C){return C?r.fromBytesLE(w,A):r.fromBytesBE(w,A)},r.fromBytesLE=function(w,A){return new r(w[0]|w[1]<<8|w[2]<<16|w[3]<<24,w[4]|w[5]<<8|w[6]<<16|w[7]<<24,A)},r.fromBytesBE=function(w,A){return new r(w[4]<<24|w[5]<<16|w[6]<<8|w[7],w[0]<<24|w[1]<<16|w[2]<<8|w[3],A)},long}var longExports=requireLong();const Long=getDefaultExportFromCjs(longExports);function getSampleTypeIndex(u){const r=u.defaultSampleType,o=u.sampleType,l=o.length-1;if(!r||!+r)return l;const e=o.findIndex(t=>t.type===r);return e===-1?l:e}function importAsPprofProfile(u){if(u.byteLength===0)return null;let r;try{r=perftools.profiles.Profile.decode(new Uint8Array(u))}catch{return null}function o(y){return typeof y=="number"?y:y.low}function l(y){return r.stringTable[o(y)]||null}const e=new Map;function t(y){const{name:g,filename:_,startLine:S}=y,k=g!=null&&l(g)||"(unknown)",N=_!=null?l(_):null,x=S!=null?+S:null,q={key:`${k}:${N}:${x}`,name:k};return N!=null&&(q.file=N),x!=null&&(q.line=x),q}for(let y of r.function)if(y.id){const g=t(y);g!=null&&e.set(o(y.id),g)}function i(y){const{line:g}=y;if(g==null)return null;const _=lastOf(g);if(_==null)return null;if(_.functionId){let S=e.get(o(_.functionId));const k=_.line instanceof Long?_.line.toNumber():_.line;return k&&k>0&&S!=null&&(S.line=k),S||null}else return null}const n=new Map;for(let y of r.location)if(y.id!=null){const g=i(y);g&&n.set(o(y.id),g)}const f=r.sampleType.map(y=>({type:y.type&&l(y.type)||"samples",unit:y.unit&&l(y.unit)||"count"})),d=getSampleTypeIndex(r);if(d<0||d>=f.length)return null;const c=f[d],p=new StackListProfileBuilder;switch(c.unit){case"nanoseconds":case"microseconds":case"milliseconds":case"seconds":p.setValueFormatter(new TimeFormatter(c.unit));break;case"bytes":p.setValueFormatter(new ByteFormatter);break}for(let y of r.sample){const g=y.locationId?y.locationId.map(S=>n.get(o(S))):[];if(g.reverse(),y.value==null||y.value.length<=d)return null;const _=y.value[d];p.appendSampleWithWeight(g.filter(S=>S!=null),+_)}return p.build()}const callFrameToFrameInfo=new Map;function frameInfoForCallFrame(u){return getOrInsert(callFrameToFrameInfo,u,r=>{const o=r.url,l=r.lineNumber,e=r.columnNumber,t=r.functionName||(o?`(anonymous ${o.split("/").pop()}:${l})`:"(anonymous)");return{key:`${t}:${o}:${l}:${e}`,name:t,file:o,line:l,col:e}})}function importFromChromeHeapProfile(u){const r=new Map;let o=0;const l=(f,d)=>{f.id=o++,r.set(f.id,f),d&&(f.parent=d.id),f.children.forEach(c=>l(c,f))};l(u.head);const e=f=>{if(f.children.length===0)return f.selfSize||0;const d=f.children.reduce((c,p)=>(c+=e(p),c),f.selfSize);return f.totalSize=d,d},t=e(u.head),i=[];for(let f of r.values()){let d=[];for(d.push(f);f.parent!==void 0;){const c=r.get(f.parent);if(c===void 0)break;d.unshift(c),f=c}i.push(d)}const n=new StackListProfileBuilder(t);for(let f of i){const d=f[f.length-1];n.appendSampleWithWeight(f.map(c=>frameInfoForCallFrame(c.callFrame)),d.selfSize)}return n.setValueFormatter(new ByteFormatter),n.build()}const requiredHermesArguments=["line","column","name","category","url","params","allocatedCategory","allocatedName"];function pidTidKey(u,r){return`${zeroPad(""+u,10)}:${zeroPad(""+r,10)}`}function partitionByPidTid(u){const r=new Map;for(let o of u)getOrInsert(r,pidTidKey(Number(o.pid),Number(o.tid)),()=>[]).push(o);return r}function selectQueueToTakeFromNext(u,r){if(u.length===0&&r.length===0)throw new Error("This method should not be given both queues empty");if(r.length===0)return"B";if(u.length===0)return"E";const o=u[0],l=r[0],e=o.ts,t=l.ts;return e<t?"B":t<e?"E":getEventId(o)===getEventId(l)?"B":"E"}function convertToEventQueues(u){const r=[],o=[],l=[];for(let i of u)switch(i.ph){case"B":{r.push(i);break}case"E":{o.push(i);break}case"X":{l.push(i);break}default:return i}function e(i){return i.dur??i.tdur??0}l.sort((i,n)=>{if(i.ts<n.ts)return-1;if(i.ts>n.ts)return 1;const f=e(i),d=e(n);return f>d?-1:f<d?1:0});for(let i of l){const n=e(i);r.push({...i,ph:"B"}),o.push({...i,ph:"E",ts:i.ts+n})}function t(i,n){return i.ts<n.ts?-1:i.ts>n.ts?1:0}return r.sort(t),o.sort(t),[r,o]}function filterIgnoredEventTypes(u){const r=[];for(let o of u)switch(o.ph){case"B":case"E":case"X":r.push(o)}return r}function getProcessNamesByPid(u){const r=new Map;for(let o of u)o.ph==="M"&&o.name==="process_name"&&o.args&&o.args.name&&r.set(o.pid,o.args.name);return r}function getThreadNamesByPidTid(u){const r=new Map;for(let o of u)o.ph==="M"&&o.name==="thread_name"&&o.args&&o.args.name&&r.set(pidTidKey(o.pid,o.tid),o.args.name);return r}function getEventName(u){return`${u.name||"(unnamed)"}`}function getEventId(u){return getEventName(u)}function frameInfoForEvent(u,r="UNKNOWN"){if(r==="HERMES"){const l=`${u.name}:${u.args.url}:${u.args.line}:${u.args.column}`;return{name:getEventName(u),key:l,file:u.args.url,line:u.args.line,col:u.args.column}}const o=getEventId(u);return{name:o,key:o,args:{[u.ph==="B"?"begin":"end"]:u.args}}}function getProfileName(u,r,o,l){return u!=null&&r!=null?`${u} (pid ${o}), ${r} (tid ${l})`:u!=null?`${u} (pid ${o}, tid ${l})`:r!=null?`${r} (pid ${o}, tid ${l})`:`pid ${o}, tid ${l}`}function getProfileNamesFromSamples(u,r){const o=getProcessNamesByPid(u),l=getThreadNamesByPidTid(u),e=new Map;return r.forEach(t=>{if(t.length===0)return;const i=Number(t[0].pid),n=Number(t[0].tid),f=pidTidKey(i,n),d=o.get(i),c=l.get(f),p=getProfileName(d,c,i,n);e.set(f,p)}),e}function getProfileNamesFromTraceEvents(u,r){const o=getProcessNamesByPid(u),l=getThreadNamesByPidTid(u),e=new Map;return r.forEach(t=>{if(t.length===0)return;const{pid:i,tid:n}=t[0],f=pidTidKey(i,n),d=o.get(i),c=l.get(f),p=getProfileName(d,c,i,n);e.set(f,p)}),e}function eventListToProfile(u,r,o="UNKNOWN"){const[l,e]=convertToEventQueues(u),t=new CallTreeProfileBuilder;t.setValueFormatter(new TimeFormatter("microseconds")),t.setName(r);const i=[],n=d=>{i.push(d),t.enterFrame(frameInfoForEvent(d,o),d.ts)},f=d=>{const c=lastOf(i);if(c==null)return;const p=frameInfoForEvent(d,o),y=frameInfoForEvent(c,o);d.name===c.name&&(p.key,y.key,i.pop(),d.args&&t.updateFrameArgs(y,{end:d.args}),t.leaveFrame(y,d.ts))};for(;l.length>0||e.length>0;){const d=selectQueueToTakeFromNext(l,e);switch(d){case"B":{n(l.shift());break}case"E":{const p=lastOf(i);if(p!=null){const g=frameInfoForEvent(p,o);let _=!1;for(let S=1;S<e.length;S++){const k=e[S];if(k.ts>e[0].ts)break;const N=frameInfoForEvent(k,o);if(g.key===N.key){const x=e[0];e[0]=e[S],e[S]=x,_=!0;break}}if(!_)for(let S=1;S<e.length;S++){const k=e[S];if(k.ts>e[0].ts)break;if(k.name===p.name){const N=e[0];e[0]=e[S],e[S]=N,_=!0;break}}}const y=e.shift();f(y);break}default:return d}}for(let d=i.length-1;d>=0;d--){const c=frameInfoForEvent(i[d],o);t.leaveFrame(c,t.getTotalWeight())}return t.build()}function getTimeDeltasForSamples(u){const r=[];let o=Number(u[0].ts);return u.forEach((l,e)=>{if(e===0)return;const t=Number(l.ts)-o;o=Number(l.ts),r.push(t)}),r.push(0),r}function frameInfoForSampleFrame({name:u,category:r}){return{key:`${u}:${r}`,name:u}}function getActiveFramesForSample(u,r){const o=[];let l=r;for(;l;){const e=u[l];if(!e)throw new Error(`Could not find frame for id ${l}`);o.push(frameInfoForSampleFrame(e)),l=e.parent}return o.reverse()}function sampleListToProfile(u,r,o){const l=new StackListProfileBuilder;l.setValueFormatter(new TimeFormatter("microseconds")),l.setName(o);const e=getTimeDeltasForSamples(r);return r.forEach((t,i)=>{const n=e[i],f=getActiveFramesForSample(u.stackFrames,t.sf);l.appendSampleWithWeight(f,n)}),l.build()}function eventListToProfileGroup(u,r="UNKNOWN"){const o=filterIgnoredEventTypes(u),l=partitionByPidTid(o),e=getProfileNamesFromTraceEvents(u,l);importMetadata(u);const t=[];return e.forEach((i,n)=>{const f=l.get(n);if(!f)throw new Error(`Could not find events for key: ${f}`);t.push([n,eventListToProfile(f,i,r)])}),sortBy(t,i=>i[0]),{name:"",indexToView:0,profiles:t.map(i=>i[1])}}function sampleListToProfileGroup(u){const r=partitionByPidTid(u.samples),o=getProfileNamesFromSamples(u.traceEvents,r),l=[];return o.forEach((e,t)=>{const i=r.get(t);if(!i)throw new Error(`Could not find samples for key: ${i}`);i.length!==0&&l.push([t,sampleListToProfile(u,i,e)])}),sortBy(l,e=>e[0]),{name:"",indexToView:0,profiles:l.map(e=>e[1])}}function isTraceEventList(u){if(!Array.isArray(u)||u.length===0)return!1;for(let r of u){if(!("ph"in r))return!1;switch(r.ph){case"B":case"E":case"X":if(!("ts"in r))return!1}}return!0}function isHermesTraceEvent(u){return u?requiredHermesArguments.every(r=>r in u):!1}function isHermesTraceEventList(u){return isTraceEventList(u)?isHermesTraceEvent(u[0].args):!1}function isTraceEventObject(u){return"traceEvents"in u?isTraceEventList(u.traceEvents):!1}function isTraceEventWithSamples(u){return"traceEvents"in u&&"stackFrames"in u&&"samples"in u&&isTraceEventList(u.traceEvents)}function importMetadata(u){const r=[];for(const o of u)o.ph==="M"&&r.push(o);metadataAtom.set(r)}function isTraceEventFormatted(u){return isTraceEventObject(u)||isTraceEventList(u)}function importTraceEvents(u){return isTraceEventWithSamples(u)?sampleListToProfileGroup(u):isTraceEventObject(u)?eventListToProfileGroup(u.traceEvents):isHermesTraceEventList(u)?eventListToProfileGroup(u,"HERMES"):isTraceEventList(u)?eventListToProfileGroup(u):u}class CallGraph{constructor(r,o){this.fileName=r,this.fieldName=o,this.frameSet=new KeyedSet,this.totalWeights=new Map,this.childrenTotalWeights=new Map}getOrInsertFrame(r){return Frame.getOrInsert(this.frameSet,r)}addToTotalWeight(r,o){this.totalWeights.has(r)?this.totalWeights.set(r,this.totalWeights.get(r)+o):this.totalWeights.set(r,o)}addSelfWeight(r,o){this.addToTotalWeight(this.getOrInsertFrame(r),o)}addChildWithTotalWeight(r,o,l){const e=this.getOrInsertFrame(r),t=this.getOrInsertFrame(o),i=getOrInsert(this.childrenTotalWeights,e,n=>new Map);i.has(t)?i.set(t,i.get(t)+l):i.set(t,l),this.addToTotalWeight(e,l)}toProfile(){const r=new CallTreeProfileBuilder;let o=1;this.fieldName==="Time_(10ns)"?(r.setName(`${this.fileName} -- Time`),o=10,r.setValueFormatter(new TimeFormatter("nanoseconds"))):this.fieldName=="Memory_(bytes)"?(r.setName(`${this.fileName} -- Memory`),r.setValueFormatter(new ByteFormatter)):r.setName(`${this.fileName} -- ${this.fieldName}`);let l=0;const e=new Set;let t=0;for(let[f,d]of this.totalWeights)t=Math.max(t,d);const i=(f,d)=>{if(e.has(f)||d<1e-4*t)return;const c=getOrElse(this.totalWeights,f,()=>0);if(c===0)return;let p=d;r.enterFrame(f,Math.round(l*o)),e.add(f);for(let[y,g]of this.childrenTotalWeights.get(f)||[]){const _=d*(g/c);let S=l;i(y,_);const k=l-S;p-=k}e.delete(f),l+=p,r.leaveFrame(f,Math.round(l*o))},n=new Set(this.frameSet);for(let[f,d]of this.childrenTotalWeights)for(let[c,p]of d)n.delete(c);for(let f of n)i(f,this.totalWeights.get(f));return r.build()}}class CallgrindParser{constructor(r,o){this.importedFileName=o,this.callGraphs=null,this.eventsLine=null,this.filename=null,this.functionName=null,this.calleeFilename=null,this.calleeFunctionName=null,this.savedFileNames={},this.savedFunctionNames={},this.prevCostLineNumbers=[],this.lines=[...r.splitLines()],this.lineNum=0}parse(){for(;this.lineNum<this.lines.length;){const r=this.lines[this.lineNum++];if(!/^\s*#/.exec(r)&&!/^\s*$/.exec(r)&&!this.parseHeaderLine(r)&&!this.parseAssignmentLine(r)&&!this.parseCostLine(r,"self"))throw new Error(`Unrecognized line "${r}" on line ${this.lineNum}`)}return this.callGraphs?{name:this.importedFileName,indexToView:0,profiles:this.callGraphs.map(r=>r.toProfile())}:null}frameInfo(){const r=this.filename||"(unknown)",o=this.functionName||"(unknown)";return{key:`${r}:${o}`,name:o,file:r}}calleeFrameInfo(){const r=this.calleeFilename||this.filename||"(unknown)",o=this.calleeFunctionName||"(unknown)";return{key:`${r}:${o}`,name:o,file:r}}parseHeaderLine(r){const o=/^\s*(\w+):\s*(.*)+$/.exec(r);if(!o)return!1;if(o[1]!=="events")return!0;const l=o[2].split(" ");if(this.callGraphs!=null)throw new Error(`Duplicate "events: " lines specified. First was "${this.eventsLine}", now received "${r}" on ${this.lineNum}.`);return this.callGraphs=l.map(e=>new CallGraph(this.importedFileName,e)),!0}parseAssignmentLine(r){const o=/^(\w+)=\s*(.*)$/.exec(r);if(!o)return!1;const l=o[1],e=o[2];switch(l){case"fe":case"fi":{this.parseNameWithCompression(e,this.savedFileNames);break}case"fl":{this.filename=this.parseNameWithCompression(e,this.savedFileNames);break}case"fn":{this.functionName=this.parseNameWithCompression(e,this.savedFunctionNames);break}case"cfi":case"cfl":{this.calleeFilename=this.parseNameWithCompression(e,this.savedFileNames);break}case"cfn":{this.calleeFunctionName=this.parseNameWithCompression(e,this.savedFunctionNames);break}case"calls":{this.parseCostLine(this.lines[this.lineNum++],"child"),this.calleeFilename=null,this.calleeFunctionName=null;break}}return!0}parseNameWithCompression(r,o){{const l=/^\((\d+)\)\s*(.+)$/.exec(r);if(l){const e=l[1],t=l[2];if(e in o)throw new Error(`Redefinition of name with id: ${e}. Original value was "${o[e]}". Tried to redefine as "${t}" on line ${this.lineNum}.`);return o[e]=t,t}}{const l=/^\((\d+)\)$/.exec(r);if(l){const e=l[1];if(!(e in o))throw new Error(`Tried to use name with id ${e} on line ${this.lineNum} before it was defined.`);return o[e]}}return r}parseCostLine(r,o){const l=r.split(/\s+/),e=[];for(let i=0;i<l.length;i++){const n=l[i];if(n.length===0)return!1;if(n==="*"||n[0]==="-"||n[1]==="+"){if(this.prevCostLineNumbers.length<=i)throw new Error(`Line ${this.lineNum} has a subposition on column ${i} but previous cost line has only ${this.prevCostLineNumbers.length} columns. Line contents: ${r}`);const f=this.prevCostLineNumbers[i];if(n==="*")e.push(f);else{const d=parseInt(n);if(isNaN(d))throw new Error(`Line ${this.lineNum} has a subposition on column ${i} but the offset is not a number. Line contents: ${r}`);e.push(f+d)}}else{const f=parseInt(n);if(isNaN(f))return!1;e.push(f)}}if(e.length==0)return!1;const t=1;if(!this.callGraphs)throw new Error(`Encountered a cost line on line ${this.lineNum} before event specification was provided.`);for(let i=0;i<this.callGraphs.length;i++)o==="self"?this.callGraphs[i].addSelfWeight(this.frameInfo(),e[t+i]):o==="child"&&this.callGraphs[i].addChildWithTotalWeight(this.frameInfo(),this.calleeFrameInfo(),e[t+i]||0);return this.prevCostLineNumbers=e,!0}}function importFromCallgrind(u,r){return new CallgrindParser(u,r).parse()}function importFromPapyrus(u){const r=new CallTreeProfileBuilder;r.setValueFormatter(new TimeFormatter("milliseconds"));const o=[...u.splitLines()].filter(N=>!/^$|^Log closed$|log opened/.exec(N));let l=-1;const e=k(o[0]);if(e===null)throw Error;l=e.at;const t=lastOf(o);if(t===null)throw Error;const i=k(t);if(i===null)throw Error;const n=i.at,f=new KeyedSet,d=[];let c=0,p,y=-1;function g(N,x,P){function q(Z,D){d.push(D),r.enterFrame(Frame.getOrInsert(f,{name:D,key:D}),Z),c=Z}y>-1&&(y=-1,p===P&&y>=c&&g(N,y,`QUEUE ${P}`));const z=`STACK ${N}`;[...d].reverse().find(Z=>Z.startsWith("STACK "))!==z&&(d.length===1&&_(c),q(x,z)),q(x,P)}function _(N){const x=d.pop();if(x===void 0)throw Error("Tried to leave frame when nothing was on stack.");r.leaveFrame(Frame.getOrInsert(f,{name:x,key:x}),N);let P=lastOf(d);P!==null&&P.startsWith("QUEUE ")&&(_(N),P=lastOf(d)),d.length>1&&P!==null&&P.startsWith("STACK ")&&_(N),c=N}function S(N,x,P){lastOf(d)===P?_(x):c===0&&(g(N,0,P),_(x))}function k(N){if(N===void 0)throw Error("Probably tried to import empty file.");const x=N.split(":");return x.length<3?null:l!==-1?{at:parseInt(x[0])-l,event:x[1],stackInt:parseInt(x[2]),name:x[5]}:{at:parseInt(x[0]),event:x[1],stackInt:parseInt(x[2]),name:x[5]}}for(o.forEach((N,x,P)=>{const q=k(N);if(q!==null){if(q.event==="PUSH"){g(q.stackInt,q.at,q.name),x+=1;let z=k(P[x]);for(;z!==null&&z.at===q.at;)z.name===q.name&&z.stackInt===q.stackInt&&z.event==="POP"?(S(z.stackInt,z.at,z.name),P.splice(x,1),z=null):(x+=1,x<P.length&&(z=k(P[x])))}else if(q.event==="POP")S(q.stackInt,q.at,q.name);else if(q.event==="QUEUE_PUSH"){p=q.name.replace(/\?/g,""),y=q.at;return}}});d.length>0;)_(n);return r.build()}function importFromPMCStatCallGraph(u){const r=new StackListProfileBuilder,o=[];let l,e="0",t=-1;for(const f of u.splitLines()){const d=/^( *)[\d.]+%  \[(\d+)\]\s*(\S+)(?: @ (.*))?$/gm.exec(f);if(!d)continue;const c=d[1].length;if(c<=t){const y=o.slice(0,t+1).reverse(),g=parseInt(e,10);r.appendSampleWithWeight(y,g)}const p=d[3];l=d[4]||l,o[c]={key:p,name:p,file:l},e=d[2],t=c}if(t==-1)return null;const i=o.slice(0,t+1).reverse(),n=parseInt(e,10);return r.appendSampleWithWeight(i,n),r.build()}async function importProfileGroupFromText(u,r){return await importProfileGroup(new TextProfileDataSource(u,r))}async function importProfileGroupFromBase64(u,r){return await importProfileGroup(MaybeCompressedDataReader.fromArrayBuffer(u,decodeBase64(r).buffer))}async function importProfilesFromFile(u){return importProfileGroup(MaybeCompressedDataReader.fromFile(u))}async function importProfilesFromArrayBuffer(u,r){return importProfileGroup(MaybeCompressedDataReader.fromArrayBuffer(u,r))}async function importProfileGroup(u){const r=await u.name(),o=await _importProfileGroup(u);if(o){o.name||(o.name=r);for(let l of o.profiles)l&&!l.getName()&&l.setName(r);return o}return null}function toGroup(u){return u?{name:u.getName(),indexToView:0,profiles:[u]}:null}async function _importProfileGroup(u){const r=await u.name(),o=await u.readAsArrayBuffer();{const t=importAsPprofProfile(o);if(t)return toGroup(t)}const l=await u.readAsText();if(r.endsWith(".speedscope.json"))return importSpeedscopeProfiles(l.parseAsJSON());if(/Trace-\d{8}T\d{6}/.exec(r))return importFromChromeTimeline(l.parseAsJSON().traceEvents,r);if(r.endsWith(".chrome.json")||/Profile-\d{8}T\d{6}/.exec(r))return importFromChromeTimeline(l.parseAsJSON(),r);if(r.endsWith(".stackprof.json"))return toGroup(importFromStackprof(l.parseAsJSON()));if(r.endsWith(".instruments.txt"))return toGroup(importFromInstrumentsDeepCopy(l));if(r.endsWith(".linux-perf.txt"))return importFromLinuxPerf(l);if(r.endsWith(".collapsedstack.txt"))return toGroup(importFromBGFlameGraph(l));if(r.endsWith(".v8log.json"))return toGroup(importFromV8ProfLog(l.parseAsJSON()));if(r.endsWith(".heapprofile"))return toGroup(importFromChromeHeapProfile(l.parseAsJSON()));if(r.endsWith("-recording.json"))return toGroup(importFromSafari(l.parseAsJSON()));if(r.startsWith("callgrind."))return importFromCallgrind(l,r);if(r.endsWith(".pmcstat.graph"))return toGroup(importFromPMCStatCallGraph(l));let e;try{e=l.parseAsJSON()}catch{}if(e){if(e.$schema==="https://www.speedscope.app/file-format-schema.json")return importSpeedscopeProfiles(e);if(e.systemHost&&e.systemHost.name=="Firefox")return toGroup(importFromFirefox(e));if(isChromeTimeline(e))return importFromChromeTimeline(e,r);if(isChromeTimelineObject(e))return importFromChromeTimeline(e.traceEvents,r);if("nodes"in e&&"samples"in e&&"timeDeltas"in e)return toGroup(importFromChromeCPUProfile(e));if(isTraceEventFormatted(e))return importTraceEvents(e);if("head"in e&&"samples"in e&&"timestamps"in e)return toGroup(importFromOldV8CPUProfile(e));if("mode"in e&&"frames"in e&&"raw_timestamp_deltas"in e)return toGroup(importFromStackprof(e));if("code"in e&&"functions"in e&&"ticks"in e)return toGroup(importFromV8ProfLog(e));if("head"in e&&"selfSize"in e.head)return toGroup(importFromChromeHeapProfile(e));if("rts_arguments"in e&&"initial_capabilities"in e)return importFromHaskell(e);if("recording"in e&&"sampleStackTraces"in e.recording)return toGroup(importFromSafari(e))}else{if(/^# callgrind format/.exec(l.firstChunk())||/^events:/m.exec(l.firstChunk())&&/^fn=/m.exec(l.firstChunk()))return importFromCallgrind(l,r);if(/^[\w \t\(\)]*\tSymbol Name/.exec(l.firstChunk()))return toGroup(importFromInstrumentsDeepCopy(l));if(/^(Stack_|Script_|Obj_)\S+ log opened \(PC\)\n/.exec(l.firstChunk()))return toGroup(importFromPapyrus(l));const t=importFromLinuxPerf(l);if(t)return t;const i=importFromBGFlameGraph(l);if(i)return toGroup(i);const n=importFromPMCStatCallGraph(l);if(n)return toGroup(n)}return null}async function importFromFileSystemDirectoryEntry(u){return importFromInstrumentsTrace(u)}export{importFromFileSystemDirectoryEntry,importProfileGroupFromBase64,importProfileGroupFromText,importProfilesFromArrayBuffer,importProfilesFromFile};
